{"ast":null,"code":"import { GameParam } from './GameParam';\n\nclass View {\n  constructor() {\n    this.DrawCanvas = (ctx, _heroList, base_image, countAnimInf, ModelHero, coefDraw) => {\n      ctx.drawImage(base_image, _heroList[countAnimInf].img[0].x, //x origin\n      _heroList[countAnimInf].img[0].y, //y origin\n      _heroList[countAnimInf].img[0].w, //w origin\n      _heroList[countAnimInf].img[0].h, //h origin\n      this.GetViewUnitX(ModelHero.Nose), //x\n      39 * coefDraw, //y\n      _heroList[countAnimInf].img[0].w * coefDraw, //w size\n      _heroList[countAnimInf].img[0].h * coefDraw //h size\n      );\n    };\n\n    this.DrawHero = (ctx, ModelHero, CurrentFrameTime, _heroList, base_image) => {\n      var coefDraw = new GameParam().coefDraw;\n      var countAnimInf = ModelHero.GetState(CurrentFrameTime); //console.log(   ModelHero.Nose+ \" BLO I   = \"+(700+ModelHero.Nose) );\n      //1500\n      //var moveHeroX = ModelHero.Nose*0.9;\n\n      DrawCanvas = (ctx, _heroList, base_image, countAnimInf, ModelHero, coefDraw);\n      /*\r\n      ctx.drawImage(base_image, \r\n      \t\t_heroList[countAnimInf].img[0].x,//x origin\r\n      \t\t_heroList[countAnimInf].img[0].y,//y origin\r\n      \t\t_heroList[countAnimInf].img[0].w,//w origin\r\n      \t\t_heroList[countAnimInf].img[0].h,//h origin\r\n      \t\tthis.GetViewUnitX(ModelHero.Nose),\r\n      \t\t//(300*coefDraw)+moveHeroX,\r\n      \t\t//700+ModelHero.Nose,//*coefDraw,//x\r\n      \t\t39*coefDraw,//y\r\n      \t\t_heroList[countAnimInf].img[0].w*coefDraw,//w size\r\n      \t\t_heroList[countAnimInf].img[0].h*coefDraw//h size\r\n      \t\t);\r\n      */\n\n      return;\n    };\n\n    this.DrawFiend = (ctx, currentFrameTime, ModelLevel, devilEye_image, _devilEyeList, _inventory_image, _inventoryList) => {\n      var coefDraw = new GameParam().coefDraw; //sort depth\n\n      var reservLine_ar = [];\n      var attackLine_ar = [];\n\n      for (var i = 0; i < ModelLevel.fiendModelList.length; i++) {\n        if (ModelLevel.fiendModelList[i].GetLocationLineReserve() == true) {\n          reservLine_ar.push(ModelLevel.fiendModelList[i]);\n        } else {\n          attackLine_ar.push(ModelLevel.fiendModelList[i]);\n        }\n      }\n\n      ModelLevel.fiendModelList = reservLine_ar.concat(attackLine_ar);\n\n      for (var i = 0; i < ModelLevel.fiendModelList.length; i++) {\n        var ModelFiend = ModelLevel.fiendModelList[i];\n        var countAnimInf = ModelFiend.GetStateTime(currentFrameTime);\n        var heightTypeEnemy = ModelFiend.GetTypeUnit();\n        var renderImage = devilEye_image;\n        var renderImageList = _devilEyeList;\n\n        if (ModelLevel.fiendModelList[i].Name == ModelLevel.fiendModelList[i].NamePharmacy) {\n          renderImage = _inventory_image;\n          renderImageList = _inventoryList; //countAnimInf =1;\n          //var kol = ModelLevel.fiendModelList[i].GetState();\n        }\n\n        if (ModelLevel.fiendModelList[i].Name == ModelLevel.fiendModelList[i].Dealer) {\n          renderImage = _inventory_image;\n          renderImageList = _inventoryList;\n          console.log(ModelLevel.fiendModelList[i].Name + \"   Vol   countAnimInf =\" + countAnimInf);\n        } //var moveFiendX = ModelFiend.X*0.9;\n        //ctx.save();\n        //ctx.scale(-1, 1);\n        //ctx.translate(CANVAS_WIDTH, 0);\n        //ctx.scale(-1, 1);\n\n\n        ctx.drawImage(renderImage, renderImageList[countAnimInf].img[0].x, //x origin\n        renderImageList[countAnimInf].img[0].y + 151 * heightTypeEnemy, //y origin\n        renderImageList[countAnimInf].img[0].w, //w origin\n        renderImageList[countAnimInf].img[0].h, //h origin\n        new View().GetViewUnitX(ModelFiend.X), //(300*coefDraw)+moveFiendX,\n        //ModelFiend.X*coefDraw,//x\n        ModelFiend.Y * coefDraw, //y\n        renderImageList[countAnimInf].img[0].wView * coefDraw, //w size\n        renderImageList[countAnimInf].img[0].hView * coefDraw //h size\n        ); //\tctx.restore();\n      }\n    };\n\n    this.GetViewUnitX = function (X) {\n      return 300 * new GameParam().coefDraw + X * 0.9;\n    };\n  }\n\n}\n\nexport { View };","map":{"version":3,"sources":["C:/Users/bulga/posenetkol/src/View.js"],"names":["GameParam","View","DrawCanvas","ctx","_heroList","base_image","countAnimInf","ModelHero","coefDraw","drawImage","img","x","y","w","h","GetViewUnitX","Nose","DrawHero","CurrentFrameTime","GetState","DrawFiend","currentFrameTime","ModelLevel","devilEye_image","_devilEyeList","_inventory_image","_inventoryList","reservLine_ar","attackLine_ar","i","fiendModelList","length","GetLocationLineReserve","push","concat","ModelFiend","GetStateTime","heightTypeEnemy","GetTypeUnit","renderImage","renderImageList","Name","NamePharmacy","Dealer","console","log","X","Y","wView","hView"],"mappings":"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","sourcesContent":["import { GameParam } from './GameParam';\r\n\r\nclass View {\r\n\tDrawCanvas =(ctx,_heroList,base_image,countAnimInf,ModelHero,coefDraw) =>{\r\n\t\tctx.drawImage(base_image, \r\n\t\t\t\t_heroList[countAnimInf].img[0].x,//x origin\r\n\t\t\t\t_heroList[countAnimInf].img[0].y,//y origin\r\n\t\t\t\t_heroList[countAnimInf].img[0].w,//w origin\r\n\t\t\t\t_heroList[countAnimInf].img[0].h,//h origin\r\n\t\t\t\tthis.GetViewUnitX(ModelHero.Nose),//x\r\n\t\t\t\t39*coefDraw,//y\r\n\t\t\t\t_heroList[countAnimInf].img[0].w*coefDraw,//w size\r\n\t\t\t\t_heroList[countAnimInf].img[0].h*coefDraw//h size\r\n\t\t\t\t);\r\n\t\t\r\n\t};\r\n\tDrawHero = (ctx,ModelHero,CurrentFrameTime,_heroList,base_image) =>\r\n\t{\r\n\t\tvar coefDraw = new GameParam().coefDraw;\r\n\r\n\t\tvar countAnimInf = ModelHero.GetState(CurrentFrameTime)\r\n\t\t\r\n\t\t//console.log(   ModelHero.Nose+ \" BLO I   = \"+(700+ModelHero.Nose) );\r\n\t\t\r\n\t\t//1500\r\n\t\t//var moveHeroX = ModelHero.Nose*0.9;\r\n\t\tDrawCanvas =(ctx,_heroList,base_image,countAnimInf,ModelHero,coefDraw);\r\n\t\t\r\n\t\t/*\r\n\t\tctx.drawImage(base_image, \r\n\t\t\t\t_heroList[countAnimInf].img[0].x,//x origin\r\n\t\t\t\t_heroList[countAnimInf].img[0].y,//y origin\r\n\t\t\t\t_heroList[countAnimInf].img[0].w,//w origin\r\n\t\t\t\t_heroList[countAnimInf].img[0].h,//h origin\r\n\t\t\t\tthis.GetViewUnitX(ModelHero.Nose),\r\n\t\t\t\t//(300*coefDraw)+moveHeroX,\r\n\t\t\t\t//700+ModelHero.Nose,//*coefDraw,//x\r\n\t\t\t\t39*coefDraw,//y\r\n\t\t\t\t_heroList[countAnimInf].img[0].w*coefDraw,//w size\r\n\t\t\t\t_heroList[countAnimInf].img[0].h*coefDraw//h size\r\n\t\t\t\t);\r\n\t\t*/\r\n\t\t\r\n\t\t\r\n\t\treturn;\r\n\t};\r\n\t\r\n\tDrawFiend = (ctx,currentFrameTime,ModelLevel,devilEye_image,_devilEyeList,_inventory_image,_inventoryList) =>\r\n\t{\r\n\t\tvar coefDraw = new GameParam().coefDraw;\r\n\t\t\r\n\t\t//sort depth\r\n\t\tvar reservLine_ar = [];\r\n\t\tvar attackLine_ar = [];\r\n\t\t\r\n\t\tfor(var i=0;i<ModelLevel.fiendModelList.length;i++){\r\n\t\t\t \r\n\t\t\tif(ModelLevel.fiendModelList[i].GetLocationLineReserve()==true){\r\n\t\t\t\treservLine_ar.push(ModelLevel.fiendModelList[i]);\r\n\t\t\t} else {\r\n\t\t\t\tattackLine_ar.push(ModelLevel.fiendModelList[i]);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t\r\n\t\t\r\n\t\tModelLevel.fiendModelList = reservLine_ar.concat(attackLine_ar);\r\n\t\r\n\t\r\n\t\tfor(var i=0;i<ModelLevel.fiendModelList.length;i++){\r\n\t\t\r\n\t\t\tvar ModelFiend = ModelLevel.fiendModelList[i];\r\n\t\t\r\n\t\t\tvar countAnimInf =ModelFiend.GetStateTime(currentFrameTime);\r\n\t\t\t\r\n\t\t\tvar heightTypeEnemy =ModelFiend.GetTypeUnit();\r\n\t\t\t\r\n\t\t\tvar renderImage =devilEye_image;\r\n\t\t\tvar renderImageList = _devilEyeList;\r\n\t\t\t\r\n\t\t\t\r\n\t\t\tif (ModelLevel.fiendModelList[i].Name==ModelLevel.fiendModelList[i].NamePharmacy){\r\n\t\t\t\trenderImage = _inventory_image;\r\n\t\t\t\trenderImageList =_inventoryList;\r\n\t\t\t\t//countAnimInf =1;\r\n\t\t\t\t//var kol = ModelLevel.fiendModelList[i].GetState();\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (ModelLevel.fiendModelList[i].Name==ModelLevel.fiendModelList[i].Dealer){\r\n\t\t\t\trenderImage = _inventory_image;\r\n\t\t\t\trenderImageList =_inventoryList;\r\n\t\t\t\tconsole.log(ModelLevel.fiendModelList[i].Name+\"   Vol   countAnimInf =\" +countAnimInf );\r\n\t\t\t}\r\n\t\t\t\r\n\r\n//var moveFiendX = ModelFiend.X*0.9;\r\n\t\t\t//ctx.save();\r\n\t\t\t//ctx.scale(-1, 1);\r\n\t\t\t//ctx.translate(CANVAS_WIDTH, 0);\r\n\t//ctx.scale(-1, 1);\r\n\t\t\t\r\n\t\t\t\tctx.drawImage(renderImage, \r\n\t\t\t\t\trenderImageList[countAnimInf].img[0].x,//x origin\r\n\t\t\t\t\trenderImageList[countAnimInf].img[0].y+(151*heightTypeEnemy),//y origin\r\n\t\t\t\t\trenderImageList[countAnimInf].img[0].w,//w origin\r\n\t\t\t\t\trenderImageList[countAnimInf].img[0].h,//h origin\r\n\t\t\t\t\tnew View().GetViewUnitX(ModelFiend.X),\r\n\t\t\t\t\t//(300*coefDraw)+moveFiendX,\r\n\t\t\t\t\t//ModelFiend.X*coefDraw,//x\r\n\t\t\t\t\tModelFiend.Y*coefDraw,//y\r\n\t\t\t\t\trenderImageList[countAnimInf].img[0].wView*coefDraw,//w size\r\n\t\t\t\t\trenderImageList[countAnimInf].img[0].hView*coefDraw//h size\r\n\t\t\t\t\t);\r\n\t\t\t\t\t\r\n\t\t\t//\tctx.restore();\r\n\t\t}\r\n\t};\r\n\t\r\n\t\r\n\tGetViewUnitX = function(X){\r\n\t\treturn (300*new GameParam().coefDraw)+(X*0.9);\r\n\t}\r\n}\r\nexport { View }"]},"metadata":{},"sourceType":"module"}