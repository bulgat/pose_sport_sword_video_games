{"ast":null,"code":"import { HeroModel } from \"./HeroModel.js\";\nimport { TemplateFiend, AnotherTemplate } from './Fiend';\nimport { ZonaAttack } from './ZonaAttack';\nimport { GameParam } from './GameParam';\nimport { View } from './View';\nimport { PlayMusic } from './PlayMusic';\nimport { PlayAudioEffect } from './PlayAudioEffect'; //ZonaAttack View\n\nconst CANVAS_WIDTH = new GameParam().CANVAS_WIDTH;\nconst CANVAS_HEIGHT = new GameParam().CANVAS_HEIGHT;\nconst coefDraw = 2;\nconst ZONA_ATTACK = 30 * coefDraw;\nlet LEVEL = 0;\nconst TIME_FRAME = 400;\n\nvar _modelHero = new HeroModel(TIME_FRAME);\n\nvar gameParam = new GameParam();\nvar LineAttack = gameParam.LineAttack;\nvar LineReserve = gameParam.LineReserve;\nvar _heightArmValue = new GameParam().HeightArm;\nvar coefImg = 127;\nvar _devilEyeList = {\n  0: {\n    img: [{\n      x: 151 * 0,\n      y: 0,\n      w: 151,\n      h: 151,\n      wView: 151,\n      hView: 150,\n      name: \"jump\"\n    }]\n  },\n  1: {\n    img: [{\n      x: 151 * 1,\n      y: 0,\n      w: 151,\n      h: 151,\n      wView: 151,\n      hView: 150,\n      name: \"jump\"\n    }]\n  },\n  2: {\n    img: [{\n      x: 151 * 2,\n      y: 0,\n      w: 151,\n      h: 151,\n      wView: 151,\n      hView: 150,\n      name: \"jump\"\n    }]\n  },\n  3: {\n    img: [{\n      x: 151 * 3,\n      y: 0,\n      w: 151,\n      h: 151,\n      wView: 151,\n      hView: 150,\n      name: \"jump\"\n    }]\n  },\n  4: {\n    img: [{\n      x: 151 * 4,\n      y: 0,\n      w: 151,\n      h: 151,\n      wView: 151,\n      hView: 150,\n      name: \"idle\"\n    }]\n  },\n  5: {\n    img: [{\n      x: 151 * 5,\n      y: 0,\n      w: 151,\n      h: 151,\n      wView: 151,\n      hView: 150,\n      name: \"idle\"\n    }]\n  },\n  6: {\n    img: [{\n      x: 151 * 6,\n      y: 0,\n      w: 151,\n      h: 151,\n      wView: 151,\n      hView: 150,\n      name: \"idle\"\n    }]\n  },\n  7: {\n    img: [{\n      x: 151 * 7,\n      y: 0,\n      w: 151,\n      h: 151,\n      wView: 151,\n      hView: 150,\n      name: \"attack\"\n    }]\n  },\n  8: {\n    img: [{\n      x: 151 * 8,\n      y: 0,\n      w: 151,\n      h: 151,\n      wView: 151,\n      hView: 150,\n      name: \"attack\"\n    }]\n  },\n  9: {\n    img: [{\n      x: 151 * 9,\n      y: 0,\n      w: 151,\n      h: 151,\n      wView: 151,\n      hView: 150,\n      name: \"attack\"\n    }]\n  },\n  10: {\n    img: [{\n      x: 151 * 10,\n      y: 0,\n      w: 151,\n      h: 151,\n      wView: 151,\n      hView: 150,\n      name: \"right\"\n    }]\n  },\n  11: {\n    img: [{\n      x: 151 * 11,\n      y: 0,\n      w: 151,\n      h: 151,\n      wView: 151,\n      hView: 150,\n      name: \"left\"\n    }]\n  },\n  12: {\n    img: [{\n      x: 151 * 12,\n      y: 0,\n      w: 151,\n      h: 151,\n      wView: 151,\n      hView: 150,\n      name: \"dead\"\n    }]\n  },\n  13: {\n    img: [{\n      x: 151 * 13,\n      y: 0,\n      w: 151,\n      h: 151,\n      wView: 151,\n      hView: 150,\n      name: \"dead\"\n    }]\n  },\n  14: {\n    img: [{\n      x: 151 * 14,\n      y: 0,\n      w: 151,\n      h: 151,\n      wView: 151,\n      hView: 150,\n      name: \"dead\"\n    }]\n  },\n  15: {\n    img: [{\n      x: 151 * 15,\n      y: 0,\n      w: 151,\n      h: 151,\n      wView: 151,\n      hView: 150,\n      name: \"blow\"\n    }]\n  },\n  16: {\n    img: [{\n      x: 151 * 16,\n      y: 0,\n      w: 151,\n      h: 151,\n      wView: 151,\n      hView: 150,\n      name: \"block\"\n    }]\n  }\n};\nvar _heroList = {\n  0: {\n    img: [{\n      x: 113 * 0,\n      y: 0,\n      w: 113,\n      h: 150,\n      name: \"idle\"\n    }]\n  },\n  1: {\n    img: [{\n      x: 113 * 1,\n      y: 0,\n      w: 113,\n      h: 150,\n      name: \"attack\"\n    }]\n  },\n  2: {\n    img: [{\n      x: 113 * 2,\n      y: 0,\n      w: 113,\n      h: 150,\n      name: \"attack\"\n    }]\n  },\n  3: {\n    img: [{\n      x: 113 * 3,\n      y: 0,\n      w: 113,\n      h: 150,\n      name: \"attack\"\n    }]\n  },\n  4: {\n    img: [{\n      x: 113 * 4,\n      y: 0,\n      w: 113,\n      h: 150,\n      name: \"defence\"\n    }]\n  },\n  5: {\n    img: [{\n      x: 113 * 5,\n      y: 0,\n      w: 113,\n      h: 150,\n      name: \"defence\"\n    }]\n  },\n  6: {\n    img: [{\n      x: 113 * 6,\n      y: 0,\n      w: 113,\n      h: 150,\n      name: \"attack0\"\n    }]\n  },\n  7: {\n    img: [{\n      x: 113 * 7,\n      y: 0,\n      w: 113,\n      h: 150,\n      name: \"attack0\"\n    }]\n  },\n  8: {\n    img: [{\n      x: 113 * 8,\n      y: 0,\n      w: 113,\n      h: 150,\n      name: \"attack0\"\n    }]\n  },\n  9: {\n    img: [{\n      x: 113 * 9,\n      y: 0,\n      w: 113,\n      h: 150,\n      name: \"dead\"\n    }]\n  },\n  10: {\n    img: [{\n      x: 113 * 10,\n      y: 0,\n      w: 113,\n      h: 150,\n      name: \"dead\"\n    }]\n  }\n};\nvar _inventoryList = {\n  0: {\n    img: [{\n      x: 50 * 0,\n      y: 0,\n      w: 50,\n      h: 50,\n      wView: 25,\n      hView: 25,\n      name: \"pharmacy\"\n    }]\n  },\n  1: {\n    img: [{\n      x: 50 * 1,\n      y: 0,\n      w: 50,\n      h: 50,\n      wView: 25,\n      hView: 25,\n      name: \"pharmacy\"\n    }]\n  },\n  2: {\n    img: [{\n      x: 50 * 2,\n      y: 0,\n      w: 50,\n      h: 50,\n      wView: 25,\n      hView: 25,\n      name: \"pharmacy\"\n    }]\n  },\n  3: {\n    img: [{\n      x: 50 * 3,\n      y: 0,\n      w: 50,\n      h: 50,\n      wView: 25,\n      hView: 25,\n      name: \"pharmacy\"\n    }]\n  },\n  4: {\n    img: [{\n      x: 50 * 4,\n      y: 0,\n      w: 50,\n      h: 50,\n      wView: 25,\n      hView: 25,\n      name: \"pharmacy\"\n    }]\n  },\n  5: {\n    img: [{\n      x: 50 * 5,\n      y: 0,\n      w: 50,\n      h: 50,\n      wView: 25,\n      hView: 25,\n      name: \"pharmacy\"\n    }]\n  },\n  6: {\n    img: [{\n      x: 50 * 6,\n      y: 0,\n      w: 50,\n      h: 50,\n      wView: 25,\n      hView: 25,\n      name: \"pharmacy\"\n    }]\n  },\n  7: {\n    img: [{\n      x: 50 * 7,\n      y: 0,\n      w: 50,\n      h: 50,\n      wView: 25,\n      hView: 25,\n      name: \"pharmacy\"\n    }]\n  },\n  10: {\n    img: [{\n      x: 151 * 0,\n      y: 75,\n      w: 151,\n      h: 130,\n      wView: 125,\n      hView: 125,\n      name: \"lady\"\n    }]\n  },\n  11: {\n    img: [{\n      x: 151 * 1,\n      y: 75,\n      w: 151,\n      h: 130,\n      wView: 125,\n      hView: 125,\n      name: \"lady\"\n    }]\n  },\n  12: {\n    img: [{\n      x: 151 * 2,\n      y: 75,\n      w: 151,\n      h: 130,\n      wView: 125,\n      hView: 125,\n      name: \"lady\"\n    }]\n  },\n  13: {\n    img: [{\n      x: 151 * 3,\n      y: 75,\n      w: 151,\n      h: 130,\n      wView: 125,\n      hView: 125,\n      name: \"lady\"\n    }]\n  },\n  14: {\n    img: [{\n      x: 151 * 4,\n      y: 75,\n      w: 151,\n      h: 130,\n      wView: 125,\n      hView: 125,\n      name: \"lady\"\n    }]\n  },\n  15: {\n    img: [{\n      x: 151 * 5,\n      y: 75,\n      w: 151,\n      h: 130,\n      wView: 125,\n      hView: 125,\n      name: \"lady\"\n    }]\n  },\n  16: {\n    img: [{\n      x: 151 * 6,\n      y: 75,\n      w: 151,\n      h: 130,\n      wView: 125,\n      hView: 125,\n      name: \"lady\"\n    }]\n  },\n  20: {\n    img: [{\n      x: 415,\n      y: 0,\n      w: 90,\n      h: 50,\n      wView: 125,\n      hView: 55,\n      name: \"trade\"\n    }]\n  },\n  21: {\n    img: [{\n      x: 415 + 90,\n      y: 0,\n      w: 90,\n      h: 50,\n      wView: 125,\n      hView: 55,\n      name: \"trade\"\n    }]\n  },\n  22: {\n    img: [{\n      x: 415 + 90 + 90,\n      y: 0,\n      w: 90,\n      h: 50,\n      wView: 125,\n      hView: 55,\n      name: \"sword0\"\n    }]\n  },\n  23: {\n    img: [{\n      x: 415 + 90 + 90 + 90,\n      y: 0,\n      w: 90,\n      h: 50,\n      wView: 125,\n      hView: 55,\n      name: \"sword1\"\n    }]\n  }\n};\nsetInterval(() => {\n  draw();\n  drawCanvasHero();\n}, 100); //var arr =[{kol:2},{kol:4},{kol:6},{kol:8}];\n//var arr2 = arr.map(function(v,i) {\n//return {kol:v.kol+=3}});\n\nvar context = document.getElementById(\"myCanvas\");\nvar playMusic = new PlayMusic(localStorage.getItem('Volume'));\ndocument.PlayAudio = new PlayAudioEffect(0.05);\ndocument.addEventListener('DOMContentLoaded', function (event) {\n  var volume = document.getElementById(\"volume\");\n\n  if (volume != null) {\n    volume.value = localStorage.getItem('Volume');\n    var num = parseInt(volume.value);\n    volume.addEventListener(\"change\", function (e) {\n      localStorage.setItem('Volume', volume.value / 100);\n      playMusic.SetVolume(volume.value / 100);\n      volumeValue.innerHTML = \" \" + volume.value + \" %\";\n      document.PlayAudio.SetVolume(volume.value / 100);\n    });\n  }\n\n  var volumeValue = document.getElementById(\"volumeValue\");\n\n  if (volumeValue != null) {\n    volumeValue.innerHTML = \" \" + volume.value + \" %\";\n    document.PlayAudio.SetVolume(volume.value / 100); //////\n\n    var heightArmId = document.getElementById(\"heightArmValue\");\n    var heightArmSlice = document.getElementById(\"heightArm\");\n    var heightArm = localStorage.getItem('heightArm');\n\n    if (heightArm == null) {\n      //heightArm = new GameParam().HeightArm;\n      heightArm = _heightArmValue;\n      localStorage.setItem('heightArm', heightArm);\n    } else {\n      heightArmId.innerHTML = heightArm; //new GameParam().HeightArm = heightArm;\n\n      _heightArmValue = heightArm;\n    }\n\n    heightArmSlice.addEventListener(\"change\", function (e) {\n      var value = this.value;\n      heightArmId.innerHTML = value;\n      localStorage.setItem('heightArm', value);\n      _heightArmValue = value;\n    }); //////\n  }\n});\nconst audioSword = [];\naudioSword[0] = new Audio(\"/sword.ogg\");\naudioSword[1] = new Audio(\"/injure.mp3\");\nvar loadCanvas = false;\nconst base_image = new Image();\nbase_image.src = '/image/womenAtlas0.png';\n\nbase_image.onload = function () {\n  loadCanvas = true;\n}; // ThroneRoom  bigFon\n\n\nconst throneRoom_image = new Image();\nthroneRoom_image.src = '/image/bigFon.png';\n\nthroneRoom_image.onload = function () {}; //DevilEye.png\n\n\nconst devilEye_image = new Image();\ndevilEye_image.src = '/image/DevilEye.png';\n\ndevilEye_image.onload = function () {}; //inventory\n\n\nconst _inventory_image = new Image();\n\n_inventory_image.src = '/image/pharmacy.png';\n\n_inventory_image.onload = function () {};\n\nconst devilEyeModel = {\n  X: 139,\n  Y: 139\n};\nvar ModelLevel = {\n  fiendModelList: [],\n  LevelId: 0\n};\nvar lastFrameTime = 0;\n\nconst drawCanvasHero = () => {\n  var currentFrameTime = Date.now();\n  var timeElapsed = currentFrameTime - lastFrameTime;\n\n  if (loadCanvas) {\n    var context = document.getElementById(\"myCanvas\");\n\n    if (context == null) {\n      return;\n    }\n\n    var ctx = context.getContext(\"2d\");\n\n    if (window.Nose != undefined) {\n      ctx.clearRect(0, 0, CANVAS_WIDTH, CANVAS_HEIGHT);\n      DrawBackground(ctx, ModelLevel.LevelId);\n      UpdateHero(ModelLevel.fiendModelList, currentFrameTime); ////\n\n      let health = document.getElementById(\"health\");\n\n      if (health != null) {\n        health.value = _modelHero.Health;\n      } ////\n\n\n      for (var i = 0; i < ModelLevel.fiendModelList.length; i++) {\n        if (ModelLevel.fiendModelList[i].GetState() == 7) {\n          //zona attack fiend => player\n          if (new ZonaAttack().ZoneAttack(ModelLevel.fiendModelList[i].X, _modelHero.Nose, ZONA_ATTACK)) {\n            console.log(\"0 attack line =   o thi  Id = \" + ModelLevel.fiendModelList[i].Id);\n\n            _modelHero.MinusHealth(1, currentFrameTime);\n          }\n        }\n\n        ModelLevel.fiendModelList[i].UpdateRandomAttack(currentFrameTime, _modelHero);\n      }\n\n      new View().DrawFiend(ctx, currentFrameTime, ModelLevel, devilEye_image, _devilEyeList, _inventory_image, _inventoryList);\n      new View().DrawHero(ctx, _modelHero, currentFrameTime, _heroList, base_image); // draw weapon\n\n      new View().DrawWeapon(ctx, currentFrameTime, ModelLevel, devilEye_image, _devilEyeList, _inventory_image, _inventoryList);\n      resetFiendModel(ModelLevel.fiendModelList, currentFrameTime);\n      ModelLevel.fiendModelList = resetNewLevel(ModelLevel, currentFrameTime);\n    }\n  }\n\n  lastFrameTime = currentFrameTime;\n};\n\nconst DrawBackground = (ctx, Id) => {\n  if (Id == 0) {\n    ctx.drawImage(throneRoom_image, 0, 189 * 0, 939, 189, 0, 0, 939 * coefDraw, 189 * coefDraw);\n  }\n\n  if (Id == 1) {\n    ctx.drawImage(throneRoom_image, 0, 189 * 1, 939, 189, 0, 0, 939 * coefDraw, 189 * coefDraw);\n  }\n\n  if (Id == 2) {\n    ctx.drawImage(throneRoom_image, 0, 189 * 2, 939, 189, 0, 0, 939 * coefDraw, 189 * coefDraw);\n  }\n};\n\n_c = DrawBackground;\n\nconst UpdateHero = (FiendModelList, CurrentFrameTime) => {\n  var HeightArm = _heightArmValue;\n\n  _modelHero.SetRightArm(HeightArm > window.RightArm.position.y);\n\n  _modelHero.SetLeftArm(HeightArm > window.LeftArm.position.y);\n\n  _modelHero.SetNose(CANVAS_WIDTH - window.Nose.position.x * coefDraw); //Muscle\n\n\n  var muscleValue = document.getElementById(\"MuscleValue\");\n  muscleValue.innerHTML = \" Muscle : \" + Math.min(_modelHero.LeftArmElevate, _modelHero.RightArmElevate) + \"          \"; //ScoreValue\n\n  var leftArmValue = document.getElementById(\"ScoreValue\");\n  leftArmValue.innerHTML = \" Score : \" + _modelHero.Score + \"          \"; //LeftArmValue\n\n  var leftArmValue = document.getElementById(\"LeftArmValue\");\n  leftArmValue.innerHTML = \" Left : \" + _modelHero.LeftArmElevate + \" \";\n  var rightArmValue = document.getElementById(\"RightArmValue\");\n  rightArmValue.innerHTML = \" Right : \" + _modelHero.RightArmElevate + \" \"; // attack player => fiend\n\n  for (var i = 0; i < FiendModelList.length; i++) {\n    if (new ZonaAttack().ZoneAttack(FiendModelList[i].X, _modelHero.Nose, ZONA_ATTACK)) {\n      if (_modelHero.RightArm) {\n        //monstr\n        if (FiendModelList[i].GetAttackPlayer() == false) {\n          FiendModelList[i].Time = CurrentFrameTime;\n        }\n\n        var score = FiendModelList[i].SetAttackPlayer(true, CurrentFrameTime);\n        _modelHero.Score += score;\n      } else {\n        //pharmacy\n        if (FiendModelList[i].Name == FiendModelList[i].NamePharmacy) {\n          var hpLife = FiendModelList[i].SetAttackPlayer(true, CurrentFrameTime);\n          console.log(\"     volume --- \" + hpLife);\n\n          _modelHero.MinusHealth(-hpLife, CurrentFrameTime);\n        }\n      }\n    }\n  }\n\n  if (_modelHero.Health <= 0) {\n    window.location.replace(\"./gameover.html\");\n  } //_modelHero.Health\n\n\n  return _modelHero;\n}; //Fiend\n//////////\n\n\n_c2 = UpdateHero;\n\nvar resetNewLevel = function (ModelLevel, currentFrameTime) {\n  if (ModelLevel.fiendModelList.length == 0) {\n    if (LEVEL == 0) {\n      ModelLevel.fiendModelList = [new TemplateFiend(1, 139, true, LineReserve, TIME_FRAME, CANVAS_WIDTH, ZONA_ATTACK, currentFrameTime, 100, gameParam.TableMonster[0]), new TemplateFiend(2, 239, true, LineReserve, TIME_FRAME, CANVAS_WIDTH, ZONA_ATTACK, currentFrameTime, 500, gameParam.TableMonster[1]), new TemplateFiend(3, 139, true, LineReserve, TIME_FRAME, CANVAS_WIDTH, ZONA_ATTACK, currentFrameTime, 220, gameParam.TableMonster[2]), new TemplateFiend(3, 139, true, LineReserve, TIME_FRAME, CANVAS_WIDTH, ZONA_ATTACK, currentFrameTime, -160, gameParam.TableMonster[3])];\n      ModelLevel.LevelId = 0;\n    }\n\n    if (LEVEL == 1) {\n      ModelLevel.fiendModelList = [new TemplateFiend(1, 59, true, LineReserve, TIME_FRAME, CANVAS_WIDTH, ZONA_ATTACK, currentFrameTime, -100, gameParam.TableMonster[1]), new TemplateFiend(2, 339, true, LineReserve, TIME_FRAME, CANVAS_WIDTH, ZONA_ATTACK, currentFrameTime, CANVAS_WIDTH + 100, gameParam.TableMonster[1]), new TemplateFiend(2, 439, true, LineReserve, TIME_FRAME, CANVAS_WIDTH, ZONA_ATTACK, currentFrameTime, CANVAS_WIDTH + 100, gameParam.TableMonster[1])];\n      ModelLevel.LevelId = 0;\n    }\n\n    if (LEVEL == 2) {\n      ModelLevel.fiendModelList = [new TemplateFiend(1, 139, true, LineReserve, TIME_FRAME, CANVAS_WIDTH, ZONA_ATTACK, currentFrameTime, -100, gameParam.TableMonster[0]), new TemplateFiend(2, 239, true, LineReserve, TIME_FRAME, CANVAS_WIDTH, ZONA_ATTACK, currentFrameTime, CANVAS_WIDTH + 100, gameParam.TableMonster[0])];\n      ModelLevel.LevelId = 1;\n    }\n\n    if (LEVEL == 3) {\n      ModelLevel.fiendModelList = [new TemplateFiend(1, 59, true, LineReserve, TIME_FRAME, CANVAS_WIDTH, ZONA_ATTACK, currentFrameTime, -100, gameParam.TableMonster[0]), new TemplateFiend(2, 339, true, LineReserve, TIME_FRAME, CANVAS_WIDTH, ZONA_ATTACK, currentFrameTime, CANVAS_WIDTH + 100, gameParam.TableMonster[0]), new TemplateFiend(2, 439, true, LineReserve, TIME_FRAME, CANVAS_WIDTH, ZONA_ATTACK, currentFrameTime, CANVAS_WIDTH + 100, gameParam.TableMonster[0])];\n      ModelLevel.LevelId = 2;\n    }\n\n    LEVEL += 1;\n    console.log(\"==    LEVEL =\" + LEVEL);\n  }\n\n  return ModelLevel.fiendModelList;\n};\n\nvar resetFiendModel = function (FiendModelList, currentFrameTime) {\n  for (var i = 0; i < FiendModelList.length; i++) {\n    if (FiendModelList[i].GetAttackPlayer()) {\n      if (FiendModelList[i].Dead == true) {\n        if (FiendModelList[i].Name != FiendModelList[i].NamePharmacy) {\n          var randomSetPharmacy = Math.floor(Math.random() * 3); //add pharmacy prize\n\n          if (randomSetPharmacy == 1) {\n            ModelLevel.fiendModelList.push(new TemplateFiend(3, 139, true, LineReserve, TIME_FRAME, CANVAS_WIDTH, ZONA_ATTACK, currentFrameTime, FiendModelList[i].X, gameParam.TableMonster[2]));\n          }\n        }\n\n        console.log(\"     ue = \");\n        console.log(\"DEAD     =  \" + FiendModelList[i].GetAttackPlayer() + \"  =  e = \" + FiendModelList[i].Name);\n        FiendModelList.splice(i, 1);\n        return;\n      }\n    }\n  }\n};\n\nvar draw = function () {\n  var context = document.getElementById(\"myCanvas\");\n\n  if (context != null) {\n    var ctx = context.getContext(\"2d\");\n    ctx.moveTo(0, 0);\n    ctx.lineTo(200, 100);\n    ctx.stroke();\n  }\n};\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"DrawBackground\");\n$RefreshReg$(_c2, \"UpdateHero\");","map":{"version":3,"sources":["C:/Users/bulga/posenetkol/src/Canvas.js"],"names":["HeroModel","TemplateFiend","AnotherTemplate","ZonaAttack","GameParam","View","PlayMusic","PlayAudioEffect","CANVAS_WIDTH","CANVAS_HEIGHT","coefDraw","ZONA_ATTACK","LEVEL","TIME_FRAME","_modelHero","gameParam","LineAttack","LineReserve","_heightArmValue","HeightArm","coefImg","_devilEyeList","img","x","y","w","h","wView","hView","name","_heroList","_inventoryList","setInterval","draw","drawCanvasHero","context","document","getElementById","playMusic","localStorage","getItem","PlayAudio","addEventListener","event","volume","value","num","parseInt","e","setItem","SetVolume","volumeValue","innerHTML","heightArmId","heightArmSlice","heightArm","audioSword","Audio","loadCanvas","base_image","Image","src","onload","throneRoom_image","devilEye_image","_inventory_image","devilEyeModel","X","Y","ModelLevel","fiendModelList","LevelId","lastFrameTime","currentFrameTime","Date","now","timeElapsed","ctx","getContext","window","Nose","undefined","clearRect","DrawBackground","UpdateHero","health","Health","i","length","GetState","ZoneAttack","console","log","Id","MinusHealth","UpdateRandomAttack","DrawFiend","DrawHero","DrawWeapon","resetFiendModel","resetNewLevel","drawImage","FiendModelList","CurrentFrameTime","SetRightArm","RightArm","position","SetLeftArm","LeftArm","SetNose","muscleValue","Math","min","LeftArmElevate","RightArmElevate","leftArmValue","Score","rightArmValue","GetAttackPlayer","Time","score","SetAttackPlayer","Name","NamePharmacy","hpLife","location","replace","TableMonster","Dead","randomSetPharmacy","floor","random","push","splice","moveTo","lineTo","stroke"],"mappings":"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","sourcesContent":["import  { HeroModel } from \"./HeroModel.js\";\r\nimport { TemplateFiend, AnotherTemplate } from './Fiend';\r\nimport { ZonaAttack } from './ZonaAttack';\r\nimport { GameParam } from './GameParam';\r\nimport { View } from './View';\r\nimport { PlayMusic } from './PlayMusic';\r\nimport { PlayAudioEffect } from './PlayAudioEffect';\r\n\r\n//ZonaAttack View\r\nconst CANVAS_WIDTH =new GameParam().CANVAS_WIDTH;\r\nconst CANVAS_HEIGHT =new GameParam().CANVAS_HEIGHT;\r\nconst coefDraw=2;\r\n\r\n\r\nconst ZONA_ATTACK =30*coefDraw;\r\nlet LEVEL =0;\r\nconst TIME_FRAME = 400;\r\nvar _modelHero =new HeroModel(TIME_FRAME);\r\nvar gameParam =new GameParam();\r\nvar LineAttack = gameParam.LineAttack;\r\nvar LineReserve = gameParam.LineReserve;\r\nvar _heightArmValue = new GameParam().HeightArm;\r\n\r\nvar coefImg = 127;\r\n\r\nvar _devilEyeList = {\r\n\t0:{img:[{x:151*0,y:0,w:151,h:151,wView:151,hView:150,name:\"jump\"}]},\r\n\t1:{img:[{x:151*1,y:0,w:151,h:151,wView:151,hView:150,name:\"jump\"}]},\r\n\t2:{img:[{x:151*2,y:0,w:151,h:151,wView:151,hView:150,name:\"jump\"}]},\r\n\t3:{img:[{x:151*3,y:0,w:151,h:151,wView:151,hView:150,name:\"jump\"}]},\r\n\t4:{img:[{x:151*4,y:0,w:151,h:151,wView:151,hView:150,name:\"idle\"}]},\r\n\t5:{img:[{x:151*5,y:0,w:151,h:151,wView:151,hView:150,name:\"idle\"}]},\r\n\t6:{img:[{x:151*6,y:0,w:151,h:151,wView:151,hView:150,name:\"idle\"}]},\r\n\t7:{img:[{x:151*7,y:0,w:151,h:151,wView:151,hView:150,name:\"attack\"}]},\r\n\t8:{img:[{x:151*8,y:0,w:151,h:151,wView:151,hView:150,name:\"attack\"}]},\r\n\t9:{img:[{x:151*9,y:0,w:151,h:151,wView:151,hView:150,name:\"attack\"}]},\r\n\t10:{img:[{x:151*10,y:0,w:151,h:151,wView:151,hView:150,name:\"right\"}]},\r\n\t11:{img:[{x:151*11,y:0,w:151,h:151,wView:151,hView:150,name:\"left\"}]},\r\n\t12:{img:[{x:151*12,y:0,w:151,h:151,wView:151,hView:150,name:\"dead\"}]},\r\n\t13:{img:[{x:151*13,y:0,w:151,h:151,wView:151,hView:150,name:\"dead\"}]},\r\n\t14:{img:[{x:151*14,y:0,w:151,h:151,wView:151,hView:150,name:\"dead\"}]},\r\n\t15:{img:[{x:151*15,y:0,w:151,h:151,wView:151,hView:150,name:\"blow\"}]},\r\n\t16:{img:[{x:151*16,y:0,w:151,h:151,wView:151,hView:150,name:\"block\"}]}\r\n};\r\n\r\nvar _heroList = {\r\n0:{img:[{x:113*0,y:0,w:113,h:150,name:\"idle\"}]},\r\n1:{img:[{x:113*1,y:0,w:113,h:150,name:\"attack\"}]},\r\n2:{img:[{x:113*2,y:0,w:113,h:150,name:\"attack\"}]},\r\n3:{img:[{x:113*3,y:0,w:113,h:150,name:\"attack\"}]},\r\n4:{img:[{x:113*4,y:0,w:113,h:150,name:\"defence\"}]},\r\n5:{img:[{x:113*5,y:0,w:113,h:150,name:\"defence\"}]},\r\n\r\n6:{img:[{x:113*6,y:0,w:113,h:150,name:\"attack0\"}]},\r\n7:{img:[{x:113*7,y:0,w:113,h:150,name:\"attack0\"}]},\r\n8:{img:[{x:113*8,y:0,w:113,h:150,name:\"attack0\"}]},\r\n\r\n9:{img:[{x:113*9,y:0,w:113,h:150,name:\"dead\"}]},\r\n10:{img:[{x:113*10,y:0,w:113,h:150,name:\"dead\"}]},\r\n};\r\n\r\nvar _inventoryList = {\r\n\t0:{img:[{x:50*0,y:0,w:50,h:50,wView:25,hView:25,name:\"pharmacy\"}]},\r\n\t1:{img:[{x:50*1,y:0,w:50,h:50,wView:25,hView:25,name:\"pharmacy\"}]},\r\n\t2:{img:[{x:50*2,y:0,w:50,h:50,wView:25,hView:25,name:\"pharmacy\"}]},\r\n\t3:{img:[{x:50*3,y:0,w:50,h:50,wView:25,hView:25,name:\"pharmacy\"}]},\r\n\t4:{img:[{x:50*4,y:0,w:50,h:50,wView:25,hView:25,name:\"pharmacy\"}]},\r\n\t5:{img:[{x:50*5,y:0,w:50,h:50,wView:25,hView:25,name:\"pharmacy\"}]},\r\n\t6:{img:[{x:50*6,y:0,w:50,h:50,wView:25,hView:25,name:\"pharmacy\"}]},\r\n\t7:{img:[{x:50*7,y:0,w:50,h:50,wView:25,hView:25,name:\"pharmacy\"}]},\r\n\t\r\n\t10:{img:[{x:151*0,y:75,w:151,h:130,wView:125,hView:125,name:\"lady\"}]},\r\n\t11:{img:[{x:151*1,y:75,w:151,h:130,wView:125,hView:125,name:\"lady\"}]},\r\n\t12:{img:[{x:151*2,y:75,w:151,h:130,wView:125,hView:125,name:\"lady\"}]},\r\n\t13:{img:[{x:151*3,y:75,w:151,h:130,wView:125,hView:125,name:\"lady\"}]},\r\n\t\r\n\t14:{img:[{x:151*4,y:75,w:151,h:130,wView:125,hView:125,name:\"lady\"}]},\r\n\t15:{img:[{x:151*5,y:75,w:151,h:130,wView:125,hView:125,name:\"lady\"}]},\r\n\t16:{img:[{x:151*6,y:75,w:151,h:130,wView:125,hView:125,name:\"lady\"}]},\r\n\t\r\n\t20:{img:[{x:415,y:0,w:90,h:50,wView:125,hView:55,name:\"trade\"}]},\r\n\t21:{img:[{x:415+90,y:0,w:90,h:50,wView:125,hView:55,name:\"trade\"}]},\r\n\t\r\n\t22:{img:[{x:415+90+90,y:0,w:90,h:50,wView:125,hView:55,name:\"sword0\"}]},\r\n\t23:{img:[{x:415+90+90+90,y:0,w:90,h:50,wView:125,hView:55,name:\"sword1\"}]}\r\n}\r\n\r\n\tsetInterval(() => {\r\n      draw();\r\n\t  drawCanvasHero ();\r\n    }, 100);\r\n\t\r\n\r\n\t//var arr =[{kol:2},{kol:4},{kol:6},{kol:8}];\r\n\t//var arr2 = arr.map(function(v,i) {\r\n\t\t\r\n\t\t//return {kol:v.kol+=3}});\r\n\t\r\n\t\r\n\t\r\n\tvar context = document.getElementById(\"myCanvas\");\r\n\r\nvar playMusic = new PlayMusic(localStorage.getItem('Volume'));\r\ndocument.PlayAudio = new PlayAudioEffect(0.05);\r\n\t\t\r\n\t\tdocument.addEventListener('DOMContentLoaded', function(event){\r\n\t\t\t\r\n\t\t\tvar volume = document.getElementById(\"volume\");\r\n\t\t\t\r\n\t\t\tif (volume!=null)\r\n\t\t\t{\r\n\t\t\t\tvolume.value =localStorage.getItem('Volume');\r\n\t\t\t\t\r\n\t\t\t\tvar num = parseInt(volume.value);\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\tvolume.addEventListener(\"change\",function(e)\r\n\t\t\t\t{\r\n\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tlocalStorage.setItem('Volume', volume.value/100);\r\n\t\t\t\t\t\tplayMusic.SetVolume(volume.value/100);\r\n\t\t\t\t\t\tvolumeValue.innerHTML = \" \"+(volume.value)+\" %\";\r\n\t\t\t\t\t\tdocument.PlayAudio.SetVolume(volume.value/100);\r\n\t\t\t\t});\r\n\t\t\t}\t\r\n\t\t\t\tvar volumeValue = document.getElementById(\"volumeValue\");\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\tif(volumeValue!=null){\r\n\t\t\t\t\tvolumeValue.innerHTML = \" \"+(volume.value)+\" %\";\r\n\t\t\t\t\tdocument.PlayAudio.SetVolume(volume.value/100);\r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\t\t//////\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tvar heightArmId = document.getElementById(\"heightArmValue\");\r\n\t\t\t\t\t\tvar heightArmSlice = document.getElementById(\"heightArm\");\r\n\t\t\t\t\t\tvar heightArm = localStorage.getItem('heightArm');\r\n\t\t\t\t\t\tif (heightArm == null) {\r\n\t\t\t\t\t\t\t//heightArm = new GameParam().HeightArm;\r\n\t\t\t\t\t\t\theightArm = _heightArmValue;\r\n\t\t\t\t\t\t\tlocalStorage.setItem('heightArm', heightArm);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\theightArmId.innerHTML =heightArm;\r\n\t\t\t\t\t\t\t//new GameParam().HeightArm = heightArm;\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t_heightArmValue = heightArm;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\theightArmSlice.addEventListener(\"change\",function(e)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tvar value = this.value;\r\n\t\t\t\t\t\t\theightArmId.innerHTML = value;\r\n\t\t\t\t\t\t\tlocalStorage.setItem('heightArm', value);\r\n\t\t\t\t\t\t\t_heightArmValue = value;\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\t//////\r\n\t\t\t\t}\r\n\t\t});\r\n\t\t\r\n\t\t\r\n\r\n\tconst audioSword = [];\r\n\taudioSword[0] = new Audio(\"/sword.ogg\");\r\n\taudioSword[1] = new Audio(\"/injure.mp3\");\r\n\t\r\n\r\n\r\n\tvar loadCanvas=false;\r\n\tconst base_image = new Image();\r\n\tbase_image.src = '/image/womenAtlas0.png';\r\n\t\r\n\tbase_image.onload = function() \r\n\t{\t \r\n\t\t loadCanvas=true;\r\n\t}\r\n\r\n\t// ThroneRoom  bigFon\r\n\tconst throneRoom_image = new Image();\r\n\tthroneRoom_image.src = '/image/bigFon.png';\r\n\tthroneRoom_image.onload = function() \r\n\t{\t\t  }\r\n\t//DevilEye.png\r\n\tconst devilEye_image = new Image();\r\n\tdevilEye_image.src = '/image/DevilEye.png';\r\n\tdevilEye_image.onload = function() \r\n\t{}\r\n\t//inventory\r\n\tconst _inventory_image = new Image();\r\n\t_inventory_image.src = '/image/pharmacy.png';\r\n\t_inventory_image.onload = function() \r\n\t{}\r\n\t\r\n\tconst devilEyeModel =  {X:139,Y:139};\r\n\t\r\n\tvar ModelLevel = {\r\n\t\tfiendModelList:[],\r\n\t\tLevelId:0\r\n\t};\r\n\r\n\tvar lastFrameTime=0;\r\n\tconst drawCanvasHero = () =>{\r\n\r\n\t\tvar currentFrameTime = Date.now();\r\n\t\tvar timeElapsed = currentFrameTime-lastFrameTime;\r\n\t\t\r\n\t\t\r\n\t\tif(loadCanvas){\r\n\t\t\tvar context = document.getElementById(\"myCanvas\");\r\n\t\t\tif(context==null){\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tvar ctx = context.getContext(\"2d\");\r\n\r\n\t\t\tif (window.Nose!=undefined){\r\n\t\t\t\tctx.clearRect(0, 0, CANVAS_WIDTH, CANVAS_HEIGHT);\r\n\t\t\t\t\r\n\r\n\t\t\t\tDrawBackground(ctx,ModelLevel.LevelId);\r\n\r\n\t\t\t\tUpdateHero(ModelLevel.fiendModelList,currentFrameTime);\r\n\t\t\t\t////\r\n\t\t\t\tlet health = document.getElementById(\"health\");\r\n\t\t\t\tif(health!=null){\r\n\t\t\t\t\thealth.value = _modelHero.Health;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t////\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\tfor(var i=0;i<ModelLevel.fiendModelList.length;i++){\r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (ModelLevel.fiendModelList[i].GetState() == 7)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t//zona attack fiend => player\r\n\t\t\t\t\t\tif (new ZonaAttack().ZoneAttack(ModelLevel.fiendModelList[i].X,_modelHero.Nose,ZONA_ATTACK))\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tconsole.log( \"0 attack line =   o thi  Id = \" +ModelLevel.fiendModelList[i].Id );\r\n\t\t\t\t\t\t\t_modelHero.MinusHealth(1,currentFrameTime) ;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tModelLevel.fiendModelList[i].UpdateRandomAttack(currentFrameTime,_modelHero);\r\n\r\n\t\t\t\t}\r\n\t\t\t\tnew View().DrawFiend(ctx,currentFrameTime,ModelLevel,devilEye_image,_devilEyeList,_inventory_image,_inventoryList);\r\n\t\t\t\tnew View().DrawHero (ctx,_modelHero,currentFrameTime,_heroList,base_image);\r\n\t\t\t\t\r\n\t\t\t\t// draw weapon\r\n\t\t\t\tnew View().DrawWeapon(ctx,currentFrameTime,ModelLevel,devilEye_image,_devilEyeList,_inventory_image,_inventoryList);\r\n\t\t\t\t\r\n\t\t\t\tresetFiendModel(ModelLevel.fiendModelList,currentFrameTime);\r\n\t\t\t\tModelLevel.fiendModelList = resetNewLevel(ModelLevel,currentFrameTime);\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t}\r\n\t\tlastFrameTime = currentFrameTime;\r\n\t}\r\n\tconst DrawBackground=(ctx,Id) =>{\r\n\t\t\r\n\t\tif(Id == 0){\r\n\t\t\tctx.drawImage(throneRoom_image, 0, 189*0, 939, 189, 0, 0, 939*coefDraw, 189*coefDraw);\r\n\t\t}\r\n\t\tif(Id == 1){\r\n\t\t\tctx.drawImage(throneRoom_image, 0, 189*1, 939, 189, 0, 0, 939*coefDraw, 189*coefDraw);\r\n\t\t}\r\n\t\tif(Id == 2){\r\n\t\t\tctx.drawImage(throneRoom_image, 0, 189*2, 939, 189, 0, 0, 939*coefDraw, 189*coefDraw);\r\n\t\t}\r\n\t}\r\n\tconst UpdateHero =(FiendModelList,CurrentFrameTime)=>{\r\n\t\r\n\t\tvar HeightArm =_heightArmValue;\r\n\r\n\t\t_modelHero.SetRightArm(HeightArm>window.RightArm.position.y);\r\n\t\t_modelHero.SetLeftArm(HeightArm>window.LeftArm.position.y); \r\n\r\n\t\t_modelHero.SetNose(CANVAS_WIDTH - window.Nose.position.x*coefDraw);\r\n\t\t\r\n\t\t//Muscle\r\n\t\tvar muscleValue = document.getElementById(\"MuscleValue\");\r\n\t\tmuscleValue.innerHTML =\" Muscle : \"+Math.min(_modelHero.LeftArmElevate,_modelHero.RightArmElevate)+\"          \";\r\n\t\t//ScoreValue\r\n\t\tvar leftArmValue = document.getElementById(\"ScoreValue\");\r\n\t\tleftArmValue.innerHTML =\" Score : \"+_modelHero.Score+\"          \";\r\n\t\t//LeftArmValue\r\n\t\tvar leftArmValue = document.getElementById(\"LeftArmValue\");\r\n\t\tleftArmValue.innerHTML =\" Left : \"+_modelHero.LeftArmElevate+\" \";\r\n\t\t\r\n\t\tvar rightArmValue = document.getElementById(\"RightArmValue\");\r\n\t\trightArmValue.innerHTML =\" Right : \"+_modelHero.RightArmElevate+\" \";\r\n\t\t\r\n\t\t// attack player => fiend\r\n\t\tfor(var i=0;i<FiendModelList.length;i++){\r\n\r\n\t\t\tif (new ZonaAttack().ZoneAttack(FiendModelList[i].X,_modelHero.Nose,ZONA_ATTACK))\r\n\t\t\t{\r\n\t\t\t\tif(_modelHero.RightArm){\r\n\t\t\t\t\t//monstr\r\n\t\t\t\t\tif(FiendModelList[i].GetAttackPlayer() ==false){\r\n\t\t\t\t\t\tFiendModelList[i].Time =CurrentFrameTime;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tvar score = FiendModelList[i].SetAttackPlayer(true,CurrentFrameTime);\r\n\t\t\t\t\t_modelHero.Score +=score;\r\n\t\t\t\t} else {\r\n\t\t\t\t\t//pharmacy\r\n\t\t\t\t\tif (FiendModelList[i].Name == FiendModelList[i].NamePharmacy){\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tvar hpLife = FiendModelList[i].SetAttackPlayer(true,CurrentFrameTime);\r\n\t\t\t\t\t\tconsole.log(\"     volume --- \" +hpLife);\r\n\t\t\t\t\t\t_modelHero.MinusHealth(-hpLife,CurrentFrameTime);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\tif (_modelHero.Health<=0){\r\n\t\t\t\r\n\t\t\twindow.location.replace(\"./gameover.html\");\r\n\t\t}\r\n\t\t//_modelHero.Health\r\n\t\t\r\n\t\treturn _modelHero;\r\n\t};\r\n\r\n\t//Fiend\r\n\r\n\t//////////\r\n\tvar resetNewLevel = function(ModelLevel,currentFrameTime){\r\n\t\tif(ModelLevel.fiendModelList.length==0){\r\n\t\t\tif (LEVEL==0){\r\n\t\t\t\tModelLevel.fiendModelList =[\r\n\t\t\t\tnew TemplateFiend(1,139,true,LineReserve,TIME_FRAME,CANVAS_WIDTH,ZONA_ATTACK,currentFrameTime,100,gameParam.TableMonster[0]),\r\n\t\t\t\tnew TemplateFiend(2,239,true,LineReserve,TIME_FRAME,CANVAS_WIDTH,ZONA_ATTACK,currentFrameTime,500,gameParam.TableMonster[1]),\r\n\t\t\t\tnew TemplateFiend(3,139,true,LineReserve,TIME_FRAME,CANVAS_WIDTH,ZONA_ATTACK,currentFrameTime,220,gameParam.TableMonster[2]),\r\n\t\t\t\tnew TemplateFiend(3,139,true,LineReserve,TIME_FRAME,CANVAS_WIDTH,ZONA_ATTACK,currentFrameTime,-160,gameParam.TableMonster[3])\r\n\t\t\t\t];\r\n\t\t\t\tModelLevel.LevelId =0;\r\n\t\t\t}\r\n\t\t\tif (LEVEL==1){\r\n\t\t\t\tModelLevel.fiendModelList =[\r\n\t\t\t\tnew TemplateFiend(1,59,true,LineReserve,TIME_FRAME,CANVAS_WIDTH,ZONA_ATTACK,currentFrameTime,-100,gameParam.TableMonster[1]),\r\n\t\t\t\tnew TemplateFiend(2,339,true,LineReserve,TIME_FRAME,CANVAS_WIDTH,ZONA_ATTACK,currentFrameTime,CANVAS_WIDTH+100,gameParam.TableMonster[1]),\r\n\t\t\t\tnew TemplateFiend(2,439,true,LineReserve,TIME_FRAME,CANVAS_WIDTH,ZONA_ATTACK,currentFrameTime,CANVAS_WIDTH+100,gameParam.TableMonster[1])];\r\n\t\t\t\tModelLevel.LevelId =0;\r\n\t\t\t}\r\n\t\t\tif (LEVEL==2){\r\n\t\t\t\tModelLevel.fiendModelList =[\r\n\t\t\t\tnew TemplateFiend(1,139,true,LineReserve,TIME_FRAME,CANVAS_WIDTH,ZONA_ATTACK,currentFrameTime,-100,gameParam.TableMonster[0]),\r\n\t\t\t\tnew TemplateFiend(2,239,true,LineReserve,TIME_FRAME,CANVAS_WIDTH,ZONA_ATTACK,currentFrameTime,CANVAS_WIDTH+100,gameParam.TableMonster[0])];\r\n\t\t\t\tModelLevel.LevelId =1;\r\n\t\t\t}\r\n\t\t\tif (LEVEL==3){\r\n\t\t\t\tModelLevel.fiendModelList =[\r\n\t\t\t\tnew TemplateFiend(1,59,true,LineReserve,TIME_FRAME,CANVAS_WIDTH,ZONA_ATTACK,currentFrameTime,-100,gameParam.TableMonster[0]),\r\n\t\t\t\tnew TemplateFiend(2,339,true,LineReserve,TIME_FRAME,CANVAS_WIDTH,ZONA_ATTACK,currentFrameTime,CANVAS_WIDTH+100,gameParam.TableMonster[0]),\r\n\t\t\t\tnew TemplateFiend(2,439,true,LineReserve,TIME_FRAME,CANVAS_WIDTH,ZONA_ATTACK,currentFrameTime,CANVAS_WIDTH+100,gameParam.TableMonster[0])];\r\n\t\t\t\tModelLevel.LevelId =2;\r\n\t\t\t}\r\n\t\t\tLEVEL+=1;\r\n\t\t\tconsole.log( \"==    LEVEL =\" +LEVEL);\r\n\t\t}\r\n\t\treturn ModelLevel.fiendModelList\r\n\t}\r\n\tvar resetFiendModel = function(FiendModelList,currentFrameTime){\r\n\t\t\r\n\t\tfor(var i=0;i<FiendModelList.length;i++){\r\n\t\t\t\r\n\t\t\tif (FiendModelList[i].GetAttackPlayer()){\r\n\r\n\t\t\t\tif (FiendModelList[i].Dead == true){\r\n\r\n\t\t\t\t\tif (FiendModelList[i].Name != FiendModelList[i].NamePharmacy) {\r\n\t\t\t\t\t\tvar randomSetPharmacy = Math.floor(Math.random() * 3);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t//add pharmacy prize\r\n\t\t\t\t\t\tif (randomSetPharmacy ==1) {\r\n\t\t\t\t\t\t\tModelLevel.fiendModelList.push(new TemplateFiend(3,139,true,LineReserve,TIME_FRAME,CANVAS_WIDTH,ZONA_ATTACK,currentFrameTime,\r\n\t\t\t\t\t\t\tFiendModelList[i].X,gameParam.TableMonster[2]));\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tconsole.log(  \"     ue = \"  );\r\n\t\t\t\t\tconsole.log(\"DEAD     =  \"+FiendModelList[i].GetAttackPlayer()+\"  =  e = \"+FiendModelList[i].Name );\r\n\t\t\t\t\t\r\n\t\t\t\t\tFiendModelList.splice(i,1);\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tvar draw = function(){\r\n\t\tvar context = document.getElementById(\"myCanvas\");\r\n\t\tif(context!=null)\r\n\t\t{\r\n\t\t\tvar ctx = context.getContext(\"2d\");\r\n\t\t\tctx.moveTo(0, 0);\r\n\t\t\t\tctx.lineTo(200, 100);\r\n\t\t\t\tctx.stroke();\r\n\t\t}\r\n\t};"]},"metadata":{},"sourceType":"module"}