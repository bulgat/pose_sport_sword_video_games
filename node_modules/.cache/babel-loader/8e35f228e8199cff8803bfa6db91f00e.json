{"ast":null,"code":"import { GameParam } from './GameParam';\n\nclass View {\n  constructor() {\n    this.DrawHero = (ctx, ModelHero, CurrentFrameTime, _heroList, base_image) => {\n      var coefDraw = new GameParam().coefDraw;\n      var countAnimInf = ModelHero.GetState(CurrentFrameTime); //console.log(   ModelHero.Nose+ \" BLO I   = \"+(700+ModelHero.Nose) );\n      //1500\n      //var moveHeroX = ModelHero.Nose*0.9;\n\n      ctx.drawImage(base_image, _heroList[countAnimInf].img[0].x, //x origin\n      _heroList[countAnimInf].img[0].y, //y origin\n      _heroList[countAnimInf].img[0].w, //w origin\n      _heroList[countAnimInf].img[0].h, //h origin\n      this.GetViewUnitX(ModelHero.Nose), //(300*coefDraw)+moveHeroX,\n      //700+ModelHero.Nose,//*coefDraw,//x\n      39 * coefDraw, //y\n      _heroList[countAnimInf].img[0].w * coefDraw, //w size\n      _heroList[countAnimInf].img[0].h * coefDraw //h size\n      );\n      return;\n    };\n\n    this.DrawFiend = (ctx, currentFrameTime, ModelLevel, devilEye_image, _devilEyeList, _inventory_image, _inventoryList) => {\n      var coefDraw = new GameParam().coefDraw; //sort depth\n\n      var reservLine_ar = [];\n      var attackLine_ar = [];\n\n      for (var i = 0; i < ModelLevel.fiendModelList.length; i++) {\n        if (ModelLevel.fiendModelList[i].GetLocationLineReserve() == true) {\n          reservLine_ar.push(ModelLevel.fiendModelList[i]);\n        } else {\n          attackLine_ar.push(ModelLevel.fiendModelList[i]);\n        }\n      }\n\n      ModelLevel.fiendModelList = reservLine_ar.concat(attackLine_ar);\n\n      for (var i = 0; i < ModelLevel.fiendModelList.length; i++) {\n        var ModelFiend = ModelLevel.fiendModelList[i];\n        var countAnimInf = ModelFiend.GetStateTime(currentFrameTime);\n        var heightTypeEnemy = ModelFiend.GetTypeUnit();\n        var renderImage = devilEye_image;\n        var renderImageList = _devilEyeList;\n\n        if (ModelLevel.fiendModelList[i].Id == 3) {\n          renderImage = _inventory_image;\n          renderImageList = _inventoryList;\n          countAnimInf = 0;\n          var kol = ModelLevel.fiendModelList[i].GetState();\n          console.log(\"DRAW = \" + kol + \" x =  \" + ModelFiend.X + \"   y = \" + ModelFiend.Y + \" State = \" + ModelLevel.fiendModelList[i].GetStateName());\n        } //var moveFiendX = ModelFiend.X*0.9;\n        //ctx.save();\n        //ctx.scale(-1, 1);\n        //ctx.translate(CANVAS_WIDTH, 0);\n        //ctx.scale(-1, 1);\n\n\n        ctx.drawImage(renderImage, renderImageList[countAnimInf].img[0].x, //x origin\n        renderImageList[countAnimInf].img[0].y + 151 * heightTypeEnemy, //y origin\n        renderImageList[countAnimInf].img[0].w, //w origin\n        renderImageList[countAnimInf].img[0].h, //h origin\n        new View().GetViewUnitX(ModelFiend.X), //(300*coefDraw)+moveFiendX,\n        //ModelFiend.X*coefDraw,//x\n        ModelFiend.Y * coefDraw, //y\n        renderImageList[countAnimInf].img[0].w * coefDraw, //w size\n        renderImageList[countAnimInf].img[0].h * coefDraw //h size\n        ); //\tctx.restore();\n      }\n    };\n\n    this.GetViewUnitX = function (X) {\n      return 300 * new GameParam().coefDraw + X * 0.9;\n    };\n  }\n\n}\n\nexport { View };","map":{"version":3,"sources":["C:/Users/bulga/posenetkol/src/View.js"],"names":["GameParam","View","DrawHero","ctx","ModelHero","CurrentFrameTime","_heroList","base_image","coefDraw","countAnimInf","GetState","drawImage","img","x","y","w","h","GetViewUnitX","Nose","DrawFiend","currentFrameTime","ModelLevel","devilEye_image","_devilEyeList","_inventory_image","_inventoryList","reservLine_ar","attackLine_ar","i","fiendModelList","length","GetLocationLineReserve","push","concat","ModelFiend","GetStateTime","heightTypeEnemy","GetTypeUnit","renderImage","renderImageList","Id","kol","console","log","X","Y","GetStateName"],"mappings":"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","sourcesContent":["import { GameParam } from './GameParam';\r\n\r\nclass View {\r\n\t\r\n\tDrawHero = (ctx,ModelHero,CurrentFrameTime,_heroList,base_image) =>\r\n\t{\r\n\t\tvar coefDraw = new GameParam().coefDraw;\r\n\r\n\t\tvar countAnimInf = ModelHero.GetState(CurrentFrameTime)\r\n\t\t\r\n\t\t//console.log(   ModelHero.Nose+ \" BLO I   = \"+(700+ModelHero.Nose) );\r\n\t\t\r\n\t\t//1500\r\n\t\t//var moveHeroX = ModelHero.Nose*0.9;\r\n\t\t\r\n\t\tctx.drawImage(base_image, \r\n\t\t\t\t_heroList[countAnimInf].img[0].x,//x origin\r\n\t\t\t\t_heroList[countAnimInf].img[0].y,//y origin\r\n\t\t\t\t_heroList[countAnimInf].img[0].w,//w origin\r\n\t\t\t\t_heroList[countAnimInf].img[0].h,//h origin\r\n\t\t\t\tthis.GetViewUnitX(ModelHero.Nose),\r\n\t\t\t\t//(300*coefDraw)+moveHeroX,\r\n\t\t\t\t//700+ModelHero.Nose,//*coefDraw,//x\r\n\t\t\t\t39*coefDraw,//y\r\n\t\t\t\t_heroList[countAnimInf].img[0].w*coefDraw,//w size\r\n\t\t\t\t_heroList[countAnimInf].img[0].h*coefDraw//h size\r\n\t\t\t\t);\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\treturn;\r\n\t};\r\n\tDrawFiend = (ctx,currentFrameTime,ModelLevel,devilEye_image,_devilEyeList,_inventory_image,_inventoryList) =>\r\n\t{\r\n\t\tvar coefDraw = new GameParam().coefDraw;\r\n\t\t\r\n\t\t//sort depth\r\n\t\tvar reservLine_ar = [];\r\n\t\tvar attackLine_ar = [];\r\n\t\t\r\n\t\tfor(var i=0;i<ModelLevel.fiendModelList.length;i++){\r\n\t\t\t \r\n\t\t\tif(ModelLevel.fiendModelList[i].GetLocationLineReserve()==true){\r\n\t\t\t\treservLine_ar.push(ModelLevel.fiendModelList[i]);\r\n\t\t\t} else {\r\n\t\t\t\tattackLine_ar.push(ModelLevel.fiendModelList[i]);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t\r\n\t\t\r\n\t\tModelLevel.fiendModelList = reservLine_ar.concat(attackLine_ar);\r\n\t\r\n\t\r\n\t\tfor(var i=0;i<ModelLevel.fiendModelList.length;i++){\r\n\t\t\r\n\t\t\tvar ModelFiend = ModelLevel.fiendModelList[i];\r\n\t\t\r\n\t\t\tvar countAnimInf =ModelFiend.GetStateTime(currentFrameTime);\r\n\t\t\t\r\n\t\t\tvar heightTypeEnemy =ModelFiend.GetTypeUnit();\r\n\t\t\t\r\n\t\t\tvar renderImage =devilEye_image;\r\n\t\t\tvar renderImageList = _devilEyeList;\r\n\t\t\t\r\n\t\t\t\r\n\t\t\tif (ModelLevel.fiendModelList[i].Id==3){\r\n\t\t\t\trenderImage = _inventory_image;\r\n\t\t\t\trenderImageList =_inventoryList;\r\n\t\t\t\tcountAnimInf =0;\r\n\t\t\t\tvar kol = ModelLevel.fiendModelList[i].GetState();\r\n\t\t\t\tconsole.log(\"DRAW = \"+kol+\" x =  \" +ModelFiend.X +\"   y = \" +ModelFiend.Y+\" State = \"+ModelLevel.fiendModelList[i].GetStateName());\r\n\t\t\t\t\r\n\t\t\t}\r\n\r\n//var moveFiendX = ModelFiend.X*0.9;\r\n\t\t\t//ctx.save();\r\n\t\t\t//ctx.scale(-1, 1);\r\n\t\t\t//ctx.translate(CANVAS_WIDTH, 0);\r\n\t//ctx.scale(-1, 1);\r\n\t\t\t\r\n\t\t\t\tctx.drawImage(renderImage, \r\n\t\t\t\t\trenderImageList[countAnimInf].img[0].x,//x origin\r\n\t\t\t\t\trenderImageList[countAnimInf].img[0].y+(151*heightTypeEnemy),//y origin\r\n\t\t\t\t\trenderImageList[countAnimInf].img[0].w,//w origin\r\n\t\t\t\t\trenderImageList[countAnimInf].img[0].h,//h origin\r\n\t\t\t\t\tnew View().GetViewUnitX(ModelFiend.X),\r\n\t\t\t\t\t//(300*coefDraw)+moveFiendX,\r\n\t\t\t\t\t//ModelFiend.X*coefDraw,//x\r\n\t\t\t\t\tModelFiend.Y*coefDraw,//y\r\n\t\t\t\t\trenderImageList[countAnimInf].img[0].w*coefDraw,//w size\r\n\t\t\t\t\trenderImageList[countAnimInf].img[0].h*coefDraw//h size\r\n\t\t\t\t\t);\r\n\t\t\t\t\t\r\n\t\t\t//\tctx.restore();\r\n\t\t}\r\n\t};\r\n\t\r\n\t\r\n\tGetViewUnitX = function(X){\r\n\t\treturn (300*new GameParam().coefDraw)+(X*0.9);\r\n\t}\r\n}\r\nexport { View }"]},"metadata":{},"sourceType":"module"}