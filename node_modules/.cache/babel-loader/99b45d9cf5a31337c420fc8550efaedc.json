{"ast":null,"code":"import { ZonaAttack } from './ZonaAttack';\nimport { StateFiendBasic } from './StateFiendBasic';\nimport { StateParam } from './StateParam';\nimport { GameParam } from './GameParam';\n\nclass TemplateFiend {\n  constructor(Id, X, Yline, ReserveY, timeFrame, CANVAS_WIDTH, ZONA_ATTACK, _currentFrameTime, StartX, TableMonster) {\n    this.MaxAttack = 25;\n    this.StateImage = 0;\n    this.Speed = 20;\n    this.Dead = false;\n    this.HPlife = 10;\n    this.LocationLineReserve = false;\n\n    this.GetId = function () {\n      return this.Id;\n    };\n\n    this.UpdateRandomAttack = function (currentFrameTime, HeroModel) {\n      this.HeroModel = HeroModel;\n\n      if (this.State.GetAttackFiend() == false) {\n        var randomAttack = Math.floor(Math.random() * this.MaxAttack);\n\n        if (randomAttack == 1) {\n          this.Y = this.Ystatic; //\tthis.State =new StateFiend(1,false,true,currentFrameTime,this.timeFrame);\n\n          this.State = new StateFiendAttack(1, false, true, currentFrameTime, this.timeFrame);\n        }\n        /*\r\n        if(randomAttack==2){\r\n        \t\r\n        \t//move\r\n        \tthis.State = new StateFiendMove(1,currentFrameTime,this.timeFrame,this.CANVAS_WIDTH,this.Speed,this.HeroModel,this.ZONA_ATTACK, this.X);\r\n        \t\r\n        }\r\n        */\n\n\n        if (randomAttack == 3) {\n          //jump StateFiendJump\n          this.State = new StateFiendJump(1, currentFrameTime, this.timeFrame, this.CANVAS_WIDTH, this.Speed, this.HeroModel, this.ZONA_ATTACK, this.X, this.Y);\n        }\n      }\n    };\n\n    this.GetTypeUnit = function () {\n      return this.TypeUnit;\n    };\n\n    this.GetState = function () {\n      return this.State.GetState();\n    };\n\n    this.GetAttackPlayer = function () {\n      return this.State.GetAttackPlayer();\n    };\n\n    this.SetAttackPlayer = function (AttackPlayer, currentFrameTime) {\n      // block blow\n      if (this.State.Name != \"MoveBlow\") {\n        this.HPlife -= 10;\n        console.log(this.Name + \"  - DEAd - ==== \" + this.HPlife);\n\n        if (0 >= this.HPlife) {\n          if (this.State.Name != \"Dead\") {\n            console.log(\"_ === ZZZZZZ ZZZZ = Y = \");\n            this.State = new StateFiendDead(1, true, false, currentFrameTime, this.timeFrame, this.Ystatic);\n            this.AttackPlayer = true;\n          }\n        } else {\n          console.log(\" - not DEAd   MoveInAttackLine \"); //State,AttackFiendTime,timeFrame,Speed\n\n          this.State = new StateFiendBlow(1, currentFrameTime, this.timeFrame, 2);\n        }\n      }\n    };\n\n    this.GetStateTime = function (currentFrameTime) {\n      var stateParam = this.State.Update(currentFrameTime, this.X, this.Y);\n\n      if (stateParam.ChangeStatus) {\n        this.State = new StateFiendOld(1, false, false, currentFrameTime, this.timeFrame, this.Ystatic); //Update\n      }\n\n      this.X = stateParam.X;\n      this.Y = stateParam.Y;\n\n      if (stateParam.Dead == true) {\n        this.Dead = true;\n      }\n\n      return this.State.GetState();\n    };\n\n    if (Yline) {\n      this.LocationLineReserve = true;\n      this.Y = new GameParam().LineReserve;\n    } else {\n      this.LocationLineReserve = false;\n      this.Y = new GameParam().LineAttack;\n    } //TypeUnit,HPlife\n\n\n    this.Id = Id;\n    this.Ystatic = this.Y;\n    this.Time = 0;\n    this.timeFrame = timeFrame;\n    this.CANVAS_WIDTH = CANVAS_WIDTH;\n    this.State = new StateFiendMoveFix(1, _currentFrameTime, this.timeFrame, this.CANVAS_WIDTH, this.Speed, this.HeroModel, this.ZONA_ATTACK, this.X);\n    this.X = StartX;\n    this.ReserveY = ReserveY;\n    this.ZONA_ATTACK = ZONA_ATTACK;\n    this.TypeUnit = TableMonster.TypeUnit;\n    this.HPlife = TableMonster.HPlife;\n    this.Name = TableMonster.Name;\n  }\n\n} // Move\n\n\nclass StateFiendMove extends StateFiendBasic {\n  constructor(State, AttackFiendTime, timeFrame, CANVAS_WIDTH, Speed, HeroModel, ZONA_ATTACK, Xfiend, MoveFix, XfixMove, _Y) {\n    super();\n    this.Jump = false;\n    this.MoveFix = false;\n    this.MoveInAttackLine = false;\n\n    this.Update = function (currentFrameTime, X, Y) {\n      if (this.AttackFiendTime + this.timeFrame * 9 < currentFrameTime) {\n        this.SetState(1);\n        return new StateParam(true, X, Y);\n      }\n\n      if (X != this.randomMoveX) {\n        if (X > this.randomMoveX) {\n          X -= this.Speed; //11\n\n          this.State = 12;\n        }\n\n        if (X < this.randomMoveX) {\n          X += this.Speed; //10\n\n          this.State = 11;\n        }\n      }\n\n      if (this.Jump) {\n        //jump  Math.abs   ReserveY\n        var pathLength = this.XstartJump - this.randomMoveX;\n        var residual = Math.abs(this.XstartJump - X);\n        var proc = Math.abs(residual / pathLength);\n\n        if (proc < .5) {\n          Y = 30 - 50 * proc;\n        }\n\n        if (proc >= .5) {\n          var procEnd = 0.5 - (proc - 0.5);\n          Y = 30 - 50 * procEnd;\n        }\n        /*\r\n        var setY = Math.sin(proc*10)*50+30;\r\n        if(setY<=30){\r\n        \t\r\n        \tY = setY;\r\n        }\r\n        */\n\n\n        if (proc < .7) {\n          this.SetState(0);\n          return new StateParam(false, X, Y);\n        }\n\n        if (proc > .7 && proc < .8) {\n          this.SetState(1);\n          return new StateParam(false, X, Y);\n        }\n\n        if (proc > .8 && proc < .9) {\n          this.SetState(2);\n          return new StateParam(false, X, Y);\n        }\n\n        if (proc > .9) {\n          this.SetState(3);\n\n          if (this.MoveInAttackLine == true) {\n            console.log(\"  DEA Le =   MoveInAttackLine \");\n            Y = this.AttackY;\n          }\n\n          return new StateParam(false, X, Y);\n        }\n      }\n\n      if (this.MoveFix != undefined) {\n        if (this.MoveFix) {\n          if (new ZonaAttack().ZoneAttack(X, this.randomMoveX, this.ZONA_ATTACK)) {\n            //stop move\n            return new StateParam(true, X, Y);\n          }\n        } else {\n          if (new ZonaAttack().ZoneAttack(X, this.HeroModel.X, this.ZONA_ATTACK)) {\n            //stop move\n            return new StateParam(true, X, Y);\n          }\n        }\n      }\n\n      return new StateParam(false, X, Y);\n    };\n\n    this.State = 8;\n    this.AttackFiendTime = AttackFiendTime;\n    this.timeFrame = timeFrame;\n    this.Speed = Speed;\n    this.ZONA_ATTACK = ZONA_ATTACK;\n    this.HeroModel = HeroModel;\n    this.XstartJump = Xfiend;\n    this.Name = \"Move\";\n    this.ReserveY = new GameParam().LineReserve;\n    this.AttackY = new GameParam().LineAttack;\n\n    if (_Y == this.ReserveY) {\n      this.MoveInAttackLine = true;\n    }\n\n    if (MoveFix == true) {\n      this.MoveFix = true;\n      this.randomMoveX = XfixMove;\n    } // move fiend\n\n\n    var random = false;\n\n    if (this.HeroModel != undefined) {\n      if (this.MoveFix) {} else {\n        if (random) {\n          this.randomMoveX = Math.floor(Math.random() * CANVAS_WIDTH);\n        } else {\n          console.log(\"01 fiend x  thi NA_ATT   x =  \" + this.MoveFix);\n          this.randomMoveX = this.HeroModel.X;\n        }\n      }\n    }\n\n    this.lengthMove = this.randomMoveX - Xfiend;\n  }\n\n} // Blow\n\n\nclass StateFiendBlow extends StateFiendMove {\n  constructor(State, AttackFiendTime, timeFrame, Speed) {\n    super();\n\n    this.Update = function (currentFrameTime, X, Y) {\n      /*\r\n      if (this.AttackFiendTime+(this.timeFrame*9)<currentFrameTime){\r\n      \t\tthis.SetState(1);\r\n      \t\treturn new StateParam(true,X,Y);\r\n      }*/\n      if (Y != this.randomMoveY) {\n        Y -= this.Speed;\n        this.SetState(15);\n        /*\r\n        if(Y>this.randomMoveY){\r\n        \tY-=this.Speed;\r\n        \t//11\r\n        \tthis.State =0;\r\n        }\r\n        if(Y<this.randomMoveY){\r\n        \tY+=this.Speed;\r\n        \t//10\r\n        \tthis.State =0;\r\n        }\r\n        */\n      }\n\n      if (new ZonaAttack().ZoneAttack(Y, this.randomMoveY, 5)) {\n        //stop blow\n        Y = this.MoveReserveY;\n        return new StateParam(true, X, Y);\n      }\n\n      return new StateParam(false, X, Y);\n    };\n\n    this.MoveReserveY = new GameParam().LineReserve;\n    this.AttackFiendTime = AttackFiendTime;\n    this.timeFrame = timeFrame;\n    this.Speed = Speed;\n    this.randomMoveY = new GameParam().LineReserve;\n    this.Name = \"MoveBlow\"; //this.MoveFix = undefined;\n  }\n\n} // Move Fix\n\n\nclass StateFiendMoveFix extends StateFiendMove {\n  constructor(State, AttackFiendTime, timeFrame, CANVAS_WIDTH, Speed, HeroModel, ZONA_ATTACK, Xfiend, XfixMove, Y) {\n    super(State, AttackFiendTime, timeFrame, CANVAS_WIDTH, Speed, HeroModel, ZONA_ATTACK, Xfiend, true, XfixMove, Y);\n    this.Name = \"MoveFix\";\n    this.MoveFix = true;\n    this.randomMoveX = XfixMove;\n  }\n\n} // Move\n\n\nclass StateFiendJump extends StateFiendMove {\n  constructor(State, AttackFiendTime, timeFrame, CANVAS_WIDTH, Speed, HeroModel, ZONA_ATTACK, Xfiend, Y) {\n    console.log(\"01 fiend x  thi NA_ATT  =  \" + Y);\n    super(State, AttackFiendTime, timeFrame, CANVAS_WIDTH, Speed, HeroModel, ZONA_ATTACK, Xfiend, null, null, Y);\n    this.Name = \"MoveJump\";\n    this.Jump = true;\n  }\n\n}\n\nclass StateFiendAttack extends StateFiendBasic {\n  constructor(State, AttackPlayer, AttackFiend, AttackFiendTime, timeFrame) {\n    super();\n\n    this.Update = function (currentFrameTime, X, Y) {\n      if (this.AttackFiendTime + this.timeFrame * 0 < currentFrameTime && this.AttackFiendTime + this.timeFrame * 2 > currentFrameTime) {\n        this.SetState(7);\n        return new StateParam(false, X, Y);\n      }\n\n      if (this.AttackFiendTime + this.timeFrame * 2 < currentFrameTime && this.AttackFiendTime + this.timeFrame * 3 > currentFrameTime) {\n        this.SetState(8);\n        return new StateParam(false, X, Y);\n      }\n\n      if (this.AttackFiendTime + this.timeFrame * 3 < currentFrameTime && this.AttackFiendTime + this.timeFrame * 4 > currentFrameTime) {\n        this.SetState(9);\n        return new StateParam(false, X, Y);\n      }\n\n      if (this.AttackFiendTime + this.timeFrame * 4 < currentFrameTime && this.AttackFiendTime + this.timeFrame * 5 > currentFrameTime) {\n        this.SetState(9);\n        return new StateParam(false, X, Y);\n      }\n\n      if (this.AttackFiendTime + this.timeFrame * 5 < currentFrameTime) {\n        //attack\n        return new StateParam(true, X, Y);\n      }\n\n      return new StateParam(false, X, Y);\n    };\n\n    this.State = State;\n    this.AttackPlayer = AttackPlayer;\n    this.AttackFiend = AttackFiend;\n    this.AttackFiendTime = AttackFiendTime;\n    this.timeFrame = timeFrame;\n    this.Name = \"Attack\";\n  }\n\n}\n\nclass StateFiendDead extends StateFiendBasic {\n  constructor(State, AttackPlayer, AttackFiend, AttackFiendTime, timeFrame, _Y2) {\n    super();\n\n    this.Update = function (currentFrameTime, X, Y) {\n      if (this.AttackFiendTime + this.timeFrame * 0 < currentFrameTime && this.AttackFiendTime + this.timeFrame * 2 > currentFrameTime) {\n        //11\n        this.SetState(12);\n        return new StateParam(false, X, Y);\n      }\n\n      if (this.AttackFiendTime + this.timeFrame * 2 < currentFrameTime && this.AttackFiendTime + this.timeFrame * 3 > currentFrameTime) {\n        //12\n        this.SetState(13);\n        return new StateParam(false, X, Y);\n      }\n\n      if (this.AttackFiendTime + this.timeFrame * 3 < currentFrameTime && this.AttackFiendTime + this.timeFrame * 4 > currentFrameTime) {\n        this.SetState(14);\n        return new StateParam(false, X, Y);\n      }\n\n      this.State = 14;\n      return new StateParam(false, X, this.Y, true);\n    };\n\n    this.Y = _Y2;\n    this.State = 12;\n    this.AttackPlayer = AttackPlayer;\n    this.AttackFiend = AttackFiend;\n    this.AttackFiendTime = AttackFiendTime;\n    this.timeFrame = timeFrame;\n    this.Name = \"Dead\";\n  }\n\n} //statc pose\n\n\nclass StateFiendOld extends StateFiendBasic {\n  constructor(State, AttackPlayer, AttackFiend, AttackFiendTime, timeFrame, _Y3) {\n    super();\n\n    this.Update = function (currentFrameTime, X, Y) {\n      if (this.AttackFiendTime + this.timeFrame * 0 < currentFrameTime && this.AttackFiendTime + this.timeFrame * 2 > currentFrameTime) {\n        this.SetState(4);\n        return new StateParam(false, X, Y);\n      }\n\n      if (this.AttackFiendTime + this.timeFrame * 2 < currentFrameTime && this.AttackFiendTime + this.timeFrame * 3 > currentFrameTime) {\n        this.SetState(5);\n        return new StateParam(false, X, Y);\n      }\n\n      if (this.AttackFiendTime + this.timeFrame * 3 < currentFrameTime && this.AttackFiendTime + this.timeFrame * 5 > currentFrameTime) {\n        this.SetState(6);\n        return new StateParam(false, X, Y);\n      }\n\n      if (this.AttackFiendTime + this.timeFrame * 5 < currentFrameTime && this.AttackFiendTime + this.timeFrame * 6 > currentFrameTime) {\n        this.SetState(5);\n        return new StateParam(false, X, Y);\n      }\n\n      if (this.AttackFiendTime + this.timeFrame * 6 < currentFrameTime && this.AttackFiendTime + this.timeFrame * 7 > currentFrameTime) {\n        this.SetState(4);\n        return new StateParam(false, X, Y);\n      } //0\n\n\n      this.State = 4;\n      return new StateParam(false, X, this.Y);\n    };\n\n    this.Y = _Y3;\n    this.State = State;\n    this.AttackPlayer = AttackPlayer;\n    this.AttackFiend = AttackFiend;\n    this.AttackFiendTime = AttackFiendTime;\n    this.timeFrame = timeFrame;\n    this.Name = \"StateFiendOld\";\n  }\n\n}\n\nexport { TemplateFiend, StateFiendOld };","map":{"version":3,"sources":["C:/Users/bulga/posenetkol/src/Fiend.js"],"names":["ZonaAttack","StateFiendBasic","StateParam","GameParam","TemplateFiend","constructor","Id","X","Yline","ReserveY","timeFrame","CANVAS_WIDTH","ZONA_ATTACK","currentFrameTime","StartX","TableMonster","MaxAttack","StateImage","Speed","Dead","HPlife","LocationLineReserve","GetId","UpdateRandomAttack","HeroModel","State","GetAttackFiend","randomAttack","Math","floor","random","Y","Ystatic","StateFiendAttack","StateFiendJump","GetTypeUnit","TypeUnit","GetState","GetAttackPlayer","SetAttackPlayer","AttackPlayer","Name","console","log","StateFiendDead","StateFiendBlow","GetStateTime","stateParam","Update","ChangeStatus","StateFiendOld","LineReserve","LineAttack","Time","StateFiendMoveFix","StateFiendMove","AttackFiendTime","Xfiend","MoveFix","XfixMove","Jump","MoveInAttackLine","SetState","randomMoveX","pathLength","XstartJump","residual","abs","proc","procEnd","AttackY","undefined","ZoneAttack","lengthMove","randomMoveY","MoveReserveY","AttackFiend"],"mappings":"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","sourcesContent":["import { ZonaAttack } from './ZonaAttack';\r\nimport { StateFiendBasic } from './StateFiendBasic';\r\nimport { StateParam } from './StateParam';\r\nimport { GameParam } from './GameParam';\r\n\r\nclass TemplateFiend {\r\n\tId;\r\n\tX;\r\n\tY;\r\n\tReserveY;\r\n\tYstatic;\r\n\tMaxAttack = 25;\r\n\tStateImage=0;\r\n\tState;\r\n\ttimeFrame;\r\n\tCANVAS_WIDTH;\r\n\tSpeed =20;\r\n\tHeroModel;\r\n\tZONA_ATTACK;\r\n\tDead = false;\r\n\tTypeUnit;\r\n\tHPlife = 10;\r\n\tLocationLineReserve = false;\r\n\tconstructor(Id,X,Yline,ReserveY,timeFrame,CANVAS_WIDTH,ZONA_ATTACK,currentFrameTime,StartX,TableMonster){\r\n\t\t\r\n\t\tif (Yline){\r\n\t\t\tthis.LocationLineReserve = true;\r\n\t\t\tthis.Y=new GameParam().LineReserve;\r\n\t\t} else {\r\n\t\t\tthis.LocationLineReserve = false;\r\n\t\t\tthis.Y=new GameParam().LineAttack;\r\n\t\t}\r\n\t\t\r\n\t\t//TypeUnit,HPlife\r\n\t\tthis.Id = Id;\r\n\t\t\r\n\t\tthis.Ystatic =this.Y;\r\n\t\tthis.Time =0;\r\n\t\tthis.timeFrame = timeFrame;\r\n\t\tthis.CANVAS_WIDTH = CANVAS_WIDTH;\r\n\r\n\t\tthis.State = new StateFiendMoveFix(1,currentFrameTime,this.timeFrame,this.CANVAS_WIDTH,this.Speed,this.HeroModel,this.ZONA_ATTACK, this.X);\r\n\t\tthis.X=StartX;\r\n\t\t\r\n\t\tthis.ReserveY = ReserveY;\r\n\t\tthis.ZONA_ATTACK = ZONA_ATTACK;\r\n\t\tthis.TypeUnit = TableMonster.TypeUnit;\r\n\t\tthis.HPlife = TableMonster.HPlife;\r\n\t\tthis.Name = TableMonster.Name\r\n\t};\r\n\tGetId = function() {\r\n\t\treturn this.Id;\r\n\t};\r\n\tUpdateRandomAttack = function(currentFrameTime,HeroModel) {\r\n\t\tthis.HeroModel = HeroModel;\r\n\r\n\t\tif(this.State.GetAttackFiend()==false){\r\n\t\t\tvar randomAttack = Math.floor(Math.random() * this.MaxAttack);\r\n\t\t\tif(randomAttack==1){\r\n\t\t\t\tthis.Y = this.Ystatic;\r\n\t\t\t\t//\tthis.State =new StateFiend(1,false,true,currentFrameTime,this.timeFrame);\r\n\t\t\t\tthis.State =new StateFiendAttack(1,false,true,currentFrameTime,this.timeFrame);\r\n\t\t\t}\r\n\t\t\t/*\r\n\t\t\tif(randomAttack==2){\r\n\t\t\t\t\r\n\t\t\t\t//move\r\n\t\t\t\tthis.State = new StateFiendMove(1,currentFrameTime,this.timeFrame,this.CANVAS_WIDTH,this.Speed,this.HeroModel,this.ZONA_ATTACK, this.X);\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t*/\r\n\t\t\tif(randomAttack==3){\r\n\t\t\t\t//jump StateFiendJump\r\n\t\t\t\t\r\n\t\t\t\tthis.State = new StateFiendJump(1,currentFrameTime,this.timeFrame,this.CANVAS_WIDTH,this.Speed,this.HeroModel,this.ZONA_ATTACK, this.X, this.Y);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t};\r\n\tGetTypeUnit = function(){\r\n\t\treturn this.TypeUnit;\r\n\t}\r\n\tGetState = function(){\r\n\t\treturn this.State.GetState();\r\n\t};\r\n\tGetAttackPlayer = function(){\r\n\t\treturn this.State.GetAttackPlayer();\r\n\t}\r\n\tSetAttackPlayer = function(AttackPlayer,currentFrameTime){\r\n\t\t// block blow\r\n\t\tif (this.State.Name !=\"MoveBlow\"){\r\n\t\t\tthis.HPlife -=10;\r\n\t\t\tconsole.log( this.Name+  \"  - DEAd - ==== \" +this.HPlife);\r\n\t\t\tif (0>=this.HPlife){\r\n\t\t\t\t\r\n\t\t\t\r\n\t\t\t\tif (this.State.Name !=\"Dead\"){\r\n\t\t\t\t\tconsole.log(  \"_ === ZZZZZZ ZZZZ = Y = \"  );\r\n\t\t\t\t\tthis.State =new StateFiendDead(1,true,false,currentFrameTime,this.timeFrame,this.Ystatic);\r\n\t\t\t\t\tthis.AttackPlayer = true;\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tconsole.log(    \" - not DEAd   MoveInAttackLine \" );\r\n\t\t\t\t\t\t\t\t\t\t\t\t//State,AttackFiendTime,timeFrame,Speed\r\n\t\t\t\tthis.State =new StateFiendBlow(1,currentFrameTime,this.timeFrame,2);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tGetStateTime = function(currentFrameTime) {\r\n\t\tvar stateParam = this.State.Update(currentFrameTime,this.X,this.Y);\r\n\t\tif(stateParam.ChangeStatus){\r\n\t\t\t\r\n\t\t\tthis.State =new StateFiendOld(1,false,false,currentFrameTime,this.timeFrame,this.Ystatic);\r\n\t\t\t//Update\r\n\t\t}\r\n\t\tthis.X = stateParam.X;\r\n\t\tthis.Y = stateParam.Y;\r\n\t\tif (stateParam.Dead ==true){\r\n\t\t\tthis.Dead = true;\r\n\t\t}\r\n\t\treturn this.State.GetState();\r\n\t\r\n\t};\r\n}\r\n\r\n\r\n// Move\r\nclass StateFiendMove extends StateFiendBasic {\r\n\tXstartJump;\r\n\trandomMoveX;\r\n\tmoveY;\r\n\tlengthMove;\r\n\tSpeed;\r\n\tZONA_ATTACK;\r\n\tHeroModel;\r\n\tJump = false;\r\n\tMoveFix = false;\r\n\tReserveY;\r\n\tAttackY;\r\n\tMoveInAttackLine = false;\r\n\tconstructor(State,AttackFiendTime,timeFrame,CANVAS_WIDTH,Speed,HeroModel,ZONA_ATTACK,Xfiend,MoveFix,XfixMove,Y){\r\n\t\tsuper();\r\n\t\tthis.State =8;\r\n\t\tthis.AttackFiendTime = AttackFiendTime;\r\n\t\tthis.timeFrame = timeFrame;\r\n\t\tthis.Speed = Speed;\r\n\t\tthis.ZONA_ATTACK = ZONA_ATTACK;\r\n\t\tthis.HeroModel = HeroModel;\r\n\t\tthis.XstartJump = Xfiend;\r\n\t\tthis.Name =\"Move\";\r\n\t\tthis.ReserveY = new GameParam().LineReserve;\r\n\t\tthis.AttackY = new GameParam().LineAttack;\r\n\t\tif(Y ==this.ReserveY){\r\n\t\t\t\r\n\t\t\tthis.MoveInAttackLine = true;\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\tif(MoveFix==true){\r\n\t\t\tthis.MoveFix = true;\r\n\t\t\tthis.randomMoveX =XfixMove;\r\n\t\t}\r\n\t\t// move fiend\r\n\t\tvar random = false;\r\n\t\t\r\n\t\tif(this.HeroModel!=undefined){\r\n\t\t\tif(this.MoveFix){\r\n\t\t\t\t\r\n\t\t\t} else {\r\n\t\t\t\tif (random){\r\n\t\t\t\t\tthis.randomMoveX = Math.floor(Math.random() * CANVAS_WIDTH);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconsole.log( \"01 fiend x  thi NA_ATT   x =  \" +this.MoveFix );\r\n\t\t\t\t\tthis.randomMoveX = this.HeroModel.X;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis.lengthMove = this.randomMoveX - Xfiend;\r\n\t\t\r\n\t}\r\n\tUpdate = function(currentFrameTime,X,Y) {\r\n\t\t\r\n\t\tif (this.AttackFiendTime+(this.timeFrame*9)<currentFrameTime){\r\n\t\t\t\tthis.SetState(1);\r\n\t\t\t\treturn new StateParam(true,X,Y);\r\n\t\t}\r\n\t\tif (X!=this.randomMoveX){\r\n\t\t\tif(X>this.randomMoveX){\r\n\t\t\t\tX-=this.Speed;\r\n\t\t\t\t//11\r\n\t\t\t\tthis.State =12;\r\n\t\t\t}\r\n\t\t\tif(X<this.randomMoveX){\r\n\t\t\t\tX+=this.Speed;\r\n\t\t\t\t//10\r\n\t\t\t\tthis.State =11;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (this.Jump) {\r\n\t\t\t//jump  Math.abs   ReserveY\r\n\t\t\tvar pathLength = (this.XstartJump - this.randomMoveX);\r\n\t\t\tvar residual = Math.abs(this.XstartJump - X);\r\n\t\t\tvar proc = Math.abs(residual/pathLength);\r\n\t\t\t\r\n\t\t\tif (proc<.5){\r\n\t\t\t\tY =30-(50*proc);\r\n\t\t\t}\r\n\t\t\tif (proc>=.5){\r\n\t\t\t\tvar procEnd =0.5-(proc-0.5);\r\n\t\t\t\tY =30-(50*procEnd);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t/*\r\n\t\t\tvar setY = Math.sin(proc*10)*50+30;\r\n\t\t\tif(setY<=30){\r\n\t\t\t\t\r\n\t\t\t\tY = setY;\r\n\t\t\t}\r\n\t\t\t*/\r\n\t\t\tif(proc<.7){\r\n\t\t\t\tthis.SetState(0);\r\n\t\t\t\treturn new StateParam(false,X,Y);\r\n\t\t\t}\r\n\t\t\tif(proc>.7&&proc<.8){\r\n\t\t\t\tthis.SetState(1);\r\n\t\t\t\treturn new StateParam(false,X,Y);\r\n\t\t\t}\r\n\t\t\tif(proc>.8&&proc<.9){\r\n\t\t\t\tthis.SetState(2);\r\n\t\t\t\treturn new StateParam(false,X,Y);\r\n\t\t\t}\r\n\t\t\tif(proc>.9){\r\n\t\t\t\tthis.SetState(3);\r\n\t\t\t\tif (this.MoveInAttackLine == true){\r\n\t\t\t\t\tconsole.log( \"  DEA Le =   MoveInAttackLine \" );\r\n\t\t\t\t\tY = this.AttackY;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\treturn new StateParam(false,X,Y);\r\n\t\t\t}\r\n\t\r\n\t\t}\r\n\t\tif(this.MoveFix!=undefined){\r\n\t\t\tif(this.MoveFix){\r\n\t\t\t\tif (new ZonaAttack().ZoneAttack(X,this.randomMoveX,this.ZONA_ATTACK)){\r\n\t\t\t\t\t\t//stop move\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\treturn new StateParam(true,X,Y);\r\n\t\t\t\t\t}\r\n\t\t\t} else \r\n\t\t\t{\r\n\t\t\t\t\r\n\r\n\t\t\t\t\tif (new ZonaAttack().ZoneAttack(X,this.HeroModel.X,this.ZONA_ATTACK)){\r\n\t\t\t\t\t\t//stop move\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\treturn new StateParam(true,X,Y);\r\n\t\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn new StateParam(false,X,Y);\r\n\t}\r\n}\r\n// Blow\r\nclass StateFiendBlow extends StateFiendMove {\r\n\tMoveReserveY;\r\n\tAttackFiendTime;\r\n\ttimeFrame;\r\n\tSpeed;\r\n\tconstructor(State,AttackFiendTime,timeFrame,Speed){\r\n\t\tsuper();\r\n\t\tthis.MoveReserveY = new GameParam().LineReserve;\r\n\t\tthis.AttackFiendTime = AttackFiendTime;\r\n\t\tthis.timeFrame = timeFrame;\r\n\t\tthis.Speed = Speed;\r\n\t\tthis.randomMoveY = new GameParam().LineReserve;\r\n\t\tthis.Name =\"MoveBlow\";\r\n\t\t//this.MoveFix = undefined;\r\n\t};\r\n\tUpdate = function(currentFrameTime,X,Y) {\r\n\t\t/*\r\n\t\tif (this.AttackFiendTime+(this.timeFrame*9)<currentFrameTime){\r\n\t\t\t\tthis.SetState(1);\r\n\t\t\t\treturn new StateParam(true,X,Y);\r\n\t\t}*/\r\n\t\tif (Y!=this.randomMoveY){\r\n\t\t\tY-=this.Speed;\r\n\t\t\tthis.SetState(15);\r\n\t\t\t/*\r\n\t\t\tif(Y>this.randomMoveY){\r\n\t\t\t\tY-=this.Speed;\r\n\t\t\t\t//11\r\n\t\t\t\tthis.State =0;\r\n\t\t\t}\r\n\t\t\tif(Y<this.randomMoveY){\r\n\t\t\t\tY+=this.Speed;\r\n\t\t\t\t//10\r\n\t\t\t\tthis.State =0;\r\n\t\t\t}\r\n\t\t\t*/\r\n\t\t}\r\n\t\tif (new ZonaAttack().ZoneAttack(Y,this.randomMoveY,5)){\r\n\t\t\t//stop blow\r\n\t\t\tY = this.MoveReserveY;\r\n\t\t\treturn new StateParam(true,X,Y);\r\n\t\t}\r\n\t\treturn new StateParam(false,X,Y);\r\n\t};\r\n}\r\n\r\n// Move Fix\r\nclass StateFiendMoveFix extends StateFiendMove {\r\n\t\r\n\tconstructor(State,AttackFiendTime,timeFrame,CANVAS_WIDTH,Speed,HeroModel,ZONA_ATTACK,Xfiend,XfixMove,Y){\r\n\t\tsuper(State,AttackFiendTime,timeFrame,CANVAS_WIDTH,Speed,HeroModel,ZONA_ATTACK,Xfiend,true,XfixMove,Y);\r\n\t\tthis.Name =\"MoveFix\";\r\n\t\tthis.MoveFix = true;\r\n\t\tthis.randomMoveX =XfixMove;\r\n\t\t \r\n\t};\r\n\r\n}\r\n\r\n// Move\r\nclass StateFiendJump extends StateFiendMove {\r\n\t\r\n\tconstructor(State,AttackFiendTime,timeFrame,CANVAS_WIDTH,Speed,HeroModel,ZONA_ATTACK,Xfiend,Y){\r\n\t\tconsole.log( \"01 fiend x  thi NA_ATT  =  \" +Y );\r\n\t\tsuper(State,AttackFiendTime,timeFrame,CANVAS_WIDTH,Speed,HeroModel,ZONA_ATTACK,Xfiend,null,null,Y);\r\n\t\tthis.Name =\"MoveJump\";\r\n\t\tthis.Jump = true;\r\n\t};\r\n\r\n}\r\nclass StateFiendAttack extends StateFiendBasic{\r\n\t\r\n\t\tconstructor(State,AttackPlayer,AttackFiend,AttackFiendTime,timeFrame){\r\n\t\tsuper();\r\n\t\t\r\n\t\tthis.State = State;\r\n\t\tthis.AttackPlayer = AttackPlayer;\r\n\t\tthis.AttackFiend = AttackFiend;\r\n\t\tthis.AttackFiendTime = AttackFiendTime;\r\n\t\tthis.timeFrame = timeFrame;\r\n\t\tthis.Name =\"Attack\";\r\n\t};\r\n\tUpdate = function(currentFrameTime,X,Y) {\r\n\r\n\t\t\r\n\t\t\tif (this.AttackFiendTime+(this.timeFrame*0)<currentFrameTime&&this.AttackFiendTime+(this.timeFrame*2)>currentFrameTime){\r\n\t\t\t\tthis.SetState(7);\r\n\t\t\t\treturn new StateParam(false,X,Y);\r\n\t\t\t}\r\n\t\t\tif (this.AttackFiendTime+(this.timeFrame*2)<currentFrameTime&&this.AttackFiendTime+(this.timeFrame*3)>currentFrameTime){\r\n\t\t\t\tthis.SetState(8);\r\n\t\t\t\treturn new StateParam(false,X,Y);\r\n\t\t\t}\r\n\t\t\tif (this.AttackFiendTime+(this.timeFrame*3)<currentFrameTime&&this.AttackFiendTime+(this.timeFrame*4)>currentFrameTime){\r\n\t\t\t\tthis.SetState(9);\r\n\t\t\t\treturn new StateParam(false,X,Y);\r\n\t\t\t}\r\n\t\t\tif (this.AttackFiendTime+(this.timeFrame*4)<currentFrameTime&&this.AttackFiendTime+(this.timeFrame*5)>currentFrameTime){\r\n\t\t\t\tthis.SetState(9);\r\n\t\t\t\treturn new StateParam(false,X,Y);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t\r\n\t\t\tif (this.AttackFiendTime+(this.timeFrame*5)<currentFrameTime){\r\n\t\t\t\t//attack\r\n\t\t\t\treturn new StateParam(true,X,Y);\r\n\t\t\t}\r\n\t\t\treturn new StateParam(false,X,Y);\r\n\r\n\t\t\r\n\t\t\r\n\t}\r\n}\r\nclass StateFiendDead extends StateFiendBasic{\r\n\t\r\n\tconstructor(State,AttackPlayer,AttackFiend,AttackFiendTime,timeFrame,Y){\r\n\t\t\r\n\t\tsuper();\r\n\t\tthis.Y = Y;\r\n\t\tthis.State =12;\r\n\t\tthis.AttackPlayer = AttackPlayer;\r\n\t\tthis.AttackFiend = AttackFiend;\r\n\t\tthis.AttackFiendTime = AttackFiendTime;\r\n\t\tthis.timeFrame = timeFrame;\r\n\t\tthis.Name =\"Dead\";\r\n\t};\r\n\tUpdate = function(currentFrameTime,X,Y) {\r\n\t\t\r\n\r\n\t\t\tif (this.AttackFiendTime+(this.timeFrame*0)<currentFrameTime&&this.AttackFiendTime+(this.timeFrame*2)>currentFrameTime){\r\n\t\t\t\t//11\r\n\t\t\t\tthis.SetState(12);\r\n\t\t\t\treturn new StateParam(false,X,Y);\r\n\t\t\t}\r\n\t\t\tif (this.AttackFiendTime+(this.timeFrame*2)<currentFrameTime&&this.AttackFiendTime+(this.timeFrame*3)>currentFrameTime){\r\n\t\t\t\t//12\r\n\t\t\t\tthis.SetState(13);\r\n\t\t\t\treturn new StateParam(false,X,Y);\r\n\t\t\t}\r\n\t\t\tif (this.AttackFiendTime+(this.timeFrame*3)<currentFrameTime&&this.AttackFiendTime+(this.timeFrame*4)>currentFrameTime){\r\n\t\t\t\tthis.SetState(14);\r\n\t\t\t\treturn new StateParam(false,X,Y);\r\n\t\t\t}\r\n\r\n\t\t\tthis.State =14;\r\n\t\t\treturn new StateParam(false,X,this.Y,true);\r\n\r\n\t}\r\n\t\r\n}\r\n//statc pose\r\nclass StateFiendOld extends StateFiendBasic{\r\n\t_frameCount;\r\n\tconstructor(State,AttackPlayer,AttackFiend,AttackFiendTime,timeFrame,Y){\r\n\t\tsuper();\r\n\t\tthis.Y = Y;\r\n\t\tthis.State = State;\r\n\t\tthis.AttackPlayer = AttackPlayer;\r\n\t\tthis.AttackFiend = AttackFiend;\r\n\t\tthis.AttackFiendTime = AttackFiendTime;\r\n\t\tthis.timeFrame = timeFrame;\r\n\t\tthis.Name =\"StateFiendOld\";\r\n\t};\r\n\t\r\n\t\r\n\tUpdate = function(currentFrameTime,X,Y) {\r\n\t\r\n\t\t\tif (this.AttackFiendTime+(this.timeFrame*0)<currentFrameTime&&this.AttackFiendTime+(this.timeFrame*2)>currentFrameTime){\r\n\t\t\t\tthis.SetState(4);\r\n\r\n\t\t\t\t\r\n\t\t\t\treturn new StateParam(false,X,Y);\r\n\t\t\t}\r\n\t\t\tif (this.AttackFiendTime+(this.timeFrame*2)<currentFrameTime&&this.AttackFiendTime+(this.timeFrame*3)>currentFrameTime){\r\n\t\t\t\t\r\n\t\t\t\tthis.SetState(5);\r\n\t\t\t\treturn new StateParam(false,X,Y);\r\n\t\t\t}\r\n\t\t\tif (this.AttackFiendTime+(this.timeFrame*3)<currentFrameTime&&this.AttackFiendTime+(this.timeFrame*5)>currentFrameTime){\r\n\t\t\t\t\r\n\t\t\t\tthis.SetState(6);\r\n\t\t\t\treturn new StateParam(false,X,Y);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (this.AttackFiendTime+(this.timeFrame*5)<currentFrameTime&&this.AttackFiendTime+(this.timeFrame*6)>currentFrameTime){\r\n\t\t\t\tthis.SetState(5);\r\n\r\n\t\t\t\t\r\n\t\t\t\treturn new StateParam(false,X,Y);\r\n\t\t\t}\r\n\t\t\tif (this.AttackFiendTime+(this.timeFrame*6)<currentFrameTime&&this.AttackFiendTime+(this.timeFrame*7)>currentFrameTime){\r\n\t\t\t\t\r\n\t\t\t\tthis.SetState(4);\r\n\t\t\t\treturn new StateParam(false,X,Y);\r\n\t\t\t}\r\n\r\n\t\t//0\r\n\t\tthis.State=4;\r\n\t\treturn new StateParam(false,X,this.Y);\r\n\t}\r\n}\r\n\r\n\r\nexport { TemplateFiend, StateFiendOld }"]},"metadata":{},"sourceType":"module"}