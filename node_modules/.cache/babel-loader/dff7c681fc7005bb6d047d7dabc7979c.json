{"ast":null,"code":"import { StateFiendBasic } from '../StateFiendBasic';\nimport { TimeFrameAnimModel } from './TimeFrameAnimModel';\nimport { ItemDrawSample } from './ItemDrawSample';\nimport { StateParam } from '../StateParam';\n\nclass DoorState extends StateFiendBasic {\n  constructor(_X, _Y, State, timeFrame, AttackFiendTime, ZONA_ATTACK, Name) {\n    super();\n    this.TextCount = 10;\n\n    this.Update = function (currentFrameTime, X, Y, HeroModel) {\n      this.TextCount = 100;\n      this.ListAdditionallyStateDraw[0].SetText(this.TextQuest.substr(0, Math.floor(this.TextCount)));\n      this.TextCount += 0.5; //run\n\n      if (new TimeFrameAnimModel().TimeFrameCheck(currentFrameTime, this.AttackFiendTime, this.timeFrame, 0, 2)) {\n        this.SetState(60);\n        this.TextQuest = \"Спасите! Помогите! Напали!\"; //Y+=.5;\n\n        return new StateParam(false, X, Y);\n      }\n\n      if (new TimeFrameAnimModel().TimeFrameCheck(currentFrameTime, this.AttackFiendTime, this.timeFrame, 2, 4)) {\n        this.SetState(61); //Y+=.5;\n\n        return new StateParam(false, X, Y);\n      }\n\n      if (new TimeFrameAnimModel().TimeFrameCheck(currentFrameTime, this.AttackFiendTime, this.timeFrame, 4, 6)) {\n        this.SetState(62); //Y+=.5;\n\n        return new StateParam(false, X, Y);\n      }\n\n      if (new TimeFrameAnimModel().TimeFrameCheck(currentFrameTime, this.AttackFiendTime, this.timeFrame, 6, 8)) {\n        this.SetState(62); //Y+=.5;\n\n        return new StateParam(false, X, Y);\n      }\n\n      if (new TimeFrameAnimModel().TimeFrameCheck(currentFrameTime, this.AttackFiendTime, this.timeFrame, 36, 38)) {\n        this.SetState(62);\n        this.TextQuest = \"Пока!\";\n        return this.DeadStateParam(X, Y);\n      } //this.SetState(57);\n      //return this.DeadStateParam(X,Y);\n\n\n      return new StateParam(false, X, Y); //default\n    };\n\n    this.X = _X;\n    this.Y = _Y + 100;\n    this.Name = Name;\n    this.State = State;\n    this.AttackFiendTime = AttackFiendTime;\n    this.timeFrame = timeFrame;\n    this.ListAdditionallyStateDraw = [//new ItemDrawSample(1,-55,115,30,true,\"COST: 10\",false,10,0)\n    new ItemDrawSample(1, -200, 0, 31, true, \"Задание\", false, 10, 0, \"Black\")];\n    this.TextQuest = \"Спасите! Помогите! Напали!\";\n  }\n\n}\n\nexport { DoorState };","map":{"version":3,"sources":["C:/Users/bulga/posenetkol/src/model/DoorState.js"],"names":["StateFiendBasic","TimeFrameAnimModel","ItemDrawSample","StateParam","DoorState","constructor","X","Y","State","timeFrame","AttackFiendTime","ZONA_ATTACK","Name","TextCount","Update","currentFrameTime","HeroModel","ListAdditionallyStateDraw","SetText","TextQuest","substr","Math","floor","TimeFrameCheck","SetState","DeadStateParam"],"mappings":"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","sourcesContent":["import { StateFiendBasic } from '../StateFiendBasic';\r\nimport { TimeFrameAnimModel } from './TimeFrameAnimModel';\r\nimport { ItemDrawSample } from './ItemDrawSample';\r\nimport { StateParam } from '../StateParam';\r\n\r\nclass DoorState extends StateFiendBasic {\r\n\tTextQuest;\r\n\tTextCount=10;\r\n\tconstructor(X,Y,State,timeFrame,AttackFiendTime,ZONA_ATTACK,Name){\r\n\t\tsuper();\r\n\t\tthis.X = X;\r\n\t\tthis.Y = Y+100;\r\n\t\tthis.Name =Name;\r\n\t\tthis.State = State;\r\n\t\tthis.AttackFiendTime = AttackFiendTime;\r\n\t\tthis.timeFrame = timeFrame;\r\n\t\t\r\n\t\tthis.ListAdditionallyStateDraw =\r\n\t\t[\r\n\t\t\t//new ItemDrawSample(1,-55,115,30,true,\"COST: 10\",false,10,0)\r\n\t\t\tnew ItemDrawSample(1,-200,0,31,true,\"Задание\",false,10,0,\"Black\")\r\n\t\t];\r\n\t\tthis.TextQuest =\"Спасите! Помогите! Напали!\";\r\n\t\t\r\n\t}\r\n\tUpdate = function(currentFrameTime,X,Y,HeroModel) {\r\n\t\tthis.TextCount=100;\r\n\t\tthis.ListAdditionallyStateDraw[0].SetText(this.TextQuest.substr(0,Math.floor(this.TextCount)));\r\n\t\tthis.TextCount+=0.5;\r\n\t\t\r\n//run\r\n\t\tif (new TimeFrameAnimModel().TimeFrameCheck(currentFrameTime,this.AttackFiendTime,this.timeFrame,0,2)){\r\n\t\t\tthis.SetState(60);\r\n\t\t\tthis.TextQuest =\"Спасите! Помогите! Напали!\";\r\n\t\t\t//Y+=.5;\r\n\t\t\treturn new StateParam(false,X,Y);\r\n\t\t}\r\n\t\tif (new TimeFrameAnimModel().TimeFrameCheck(currentFrameTime,this.AttackFiendTime,this.timeFrame,2,4)){\r\n\t\t\tthis.SetState(61);\r\n\t\t\t//Y+=.5;\r\n\t\t\treturn new StateParam(false,X,Y);\r\n\t\t}\t\r\n\t\tif (new TimeFrameAnimModel().TimeFrameCheck(currentFrameTime,this.AttackFiendTime,this.timeFrame,4,6)){\r\n\t\t\tthis.SetState(62);\r\n\t\t\t//Y+=.5;\r\n\t\t\treturn new StateParam(false,X,Y);\r\n\t\t}\r\n\t\tif (new TimeFrameAnimModel().TimeFrameCheck(currentFrameTime,this.AttackFiendTime,this.timeFrame,6,8)){\r\n\t\t\tthis.SetState(62);\r\n\t\t\t//Y+=.5;\r\n\t\t\treturn new StateParam(false,X,Y);\r\n\t\t}\r\n\t\t\r\n\t\tif (new TimeFrameAnimModel().TimeFrameCheck(currentFrameTime,this.AttackFiendTime,this.timeFrame,36,38)){\r\n\t\t\tthis.SetState(62);\r\n\t\t\tthis.TextQuest =  \"Пока!\";\r\n\t\t\treturn this.DeadStateParam(X,Y);\r\n\t\t}\r\n\t\t//this.SetState(57);\r\n\t\t//return this.DeadStateParam(X,Y);\r\n\t\treturn new StateParam(false,X,Y);\r\n\t\t\r\n\t\t//default\r\n\t\t\r\n\t}\r\n}\r\nexport { DoorState }"]},"metadata":{},"sourceType":"module"}