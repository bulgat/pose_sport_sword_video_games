{"ast":null,"code":"const CANVAS_WIDTH = 640;\nconst CANVAS_HEIGHT = 300;\nvar _devilEyeList = {\n  0: {\n    img: [{\n      x: 0,\n      y: 0,\n      w: 97,\n      h: 97\n    }]\n  },\n  1: {\n    img: [{\n      x: 97,\n      y: 0,\n      w: 160,\n      h: 97\n    }]\n  },\n  2: {\n    img: [{\n      x: 194,\n      y: 0,\n      w: 160,\n      h: 97\n    }]\n  },\n  3: {\n    img: [{\n      x: 291,\n      y: 0,\n      w: 160,\n      h: 97\n    }]\n  },\n  4: {\n    img: [{\n      x: 388,\n      y: 0,\n      w: 160,\n      h: 97\n    }]\n  },\n  5: {\n    img: [{\n      x: 485,\n      y: 0,\n      w: 160,\n      h: 97\n    }]\n  }\n};\n\nconst drawCanvasBattle = () => {\n  /*\t\r\n  \t\t\tvar loadCanvas = false;\r\n  \r\n  //base_image.onload();\r\n  \n  \n  \r\n  \r\n  var context = document.getElementById(\"myCanvas\");\r\n  var ctx = null;\r\n  \t\tif (context!=null){\r\n  \t\r\n  \tctx = context.getContext(\"2d\");\r\n  \tctx.moveTo(0, 0);\r\n  \tctx.lineTo(CANVAS_WIDTH, CANVAS_HEIGHT);\r\n  \tctx.stroke();\r\n  \t\r\n  \t\t\r\n  \t\r\n  \t\r\n  \t//if (loadCanvas){\r\n  \t\t//console.log(\"draw =\"+base_image);\r\n  \t\t\r\n  \t//}\r\n  }\r\n  */\n};\n\nsetInterval(() => {\n  draw();\n  drawCanvasHero();\n}, 100);\nvar context = document.getElementById(\"myCanvas\");\ndrawCanvasBattle(); ////\n//var drawHero = false;\n//drawHero = true;\n\nvar loadCanvas = false;\nconst base_image = new Image();\nbase_image.src = '/image/women0.png';\nconsole.log(\"load draw =\");\n\nbase_image.onload = function () {\n  console.log(\"load ok =\");\n  loadCanvas = true;\n};\n\nconst attack_image = new Image();\nattack_image.src = '/image/women1.png';\n\nattack_image.onload = function () {\n  console.log(\"load ok =\");\n};\n\nconst shield_image = new Image();\nshield_image.src = '/image/women2.png';\n\nshield_image.onload = function () {\n  console.log(\"load ok =\");\n}; // ThroneRoom\n\n\nconst throneRoom_image = new Image();\nthroneRoom_image.src = '/image/ThroneRoom.png';\n\nthroneRoom_image.onload = function () {\n  console.log(\"load ok =\");\n}; //DevilEye.png\n\n\nconst devilEye_image = new Image();\ndevilEye_image.src = '/image/DevilEye.png';\n\ndevilEye_image.onload = function () {\n  console.log(\"load ok =\");\n};\n/*\r\nbase_image.onerror= function() \r\n{\r\n\tconsole.log(\"Ошибка загрузки \" + this.src);\r\n}\r\n*/\n\n\nconst drawCanvasHero = () => {\n  /*\r\n  \r\n  var context = document.getElementById(\"myCanvas\");\r\n  if (context!=null){\r\n  \t\r\n  \tvar ctx0= context.getContext(\"2d\");\r\n  \t\r\n  \tif (drawHero == false )\r\n  \t{\r\n  \t\t\r\n  \t}\r\n  }*/\n  if (loadCanvas) {\n    var context = document.getElementById(\"myCanvas\");\n    var ctx = context.getContext(\"2d\"); //ctx.drawImage(base_image, 100, 0);\n\n    if (window.Nose != undefined) {\n      ctx.clearRect(0, 0, CANVAS_WIDTH, CANVAS_HEIGHT);\n      console.log(\"R = \" + window.RightArm.position.y + \" = 111   =\" + window.RightArm.part + \"         L =  \" + window.LeftArm.position.y); //ctx.drawImage(base_image, window.Nose.position.x/CANVAS_WIDTH, 0);\n\n      ctx.drawImage(throneRoom_image, 0, 0); //devilEye_image\n      //_devilEyeList\n\n      ctx.drawImage(devilEye_image, 0, 0);\n      drawHero(ctx); //if (150<window.RightArm.position.y||150<window.LeftArm.position.y)\n      //{\n      //} else {\n      //}\n      //attack_image\n    }\n  }\n};\n\nconst drawHero = ctx => {\n  if (150 > window.RightArm.position.y) {\n    //ctx.clearRect(0, 0, CANVAS_WIDTH, CANVAS_HEIGHT);\n    ctx.drawImage(attack_image, CANVAS_WIDTH - window.Nose.position.x, 100);\n    return;\n  }\n\n  if (150 > window.LeftArm.position.y) {\n    //ctx.clearRect(0, 0, CANVAS_WIDTH, CANVAS_HEIGHT);\n    ctx.drawImage(shield_image, CANVAS_WIDTH - window.Nose.position.x, 100);\n    return;\n  }\n\n  ctx.drawImage(base_image, CANVAS_WIDTH - window.Nose.position.x, 100);\n  return;\n}; //////////\n\n\nvar draw = function () {\n  var context = document.getElementById(\"myCanvas\");\n  var ctx = context.getContext(\"2d\");\n  ctx.moveTo(0, 0);\n  ctx.lineTo(200, 100);\n  ctx.stroke();\n};","map":{"version":3,"sources":["C:/Users/bulga/posenetkol/src/Canvas.js"],"names":["CANVAS_WIDTH","CANVAS_HEIGHT","_devilEyeList","img","x","y","w","h","drawCanvasBattle","setInterval","draw","drawCanvasHero","context","document","getElementById","loadCanvas","base_image","Image","src","console","log","onload","attack_image","shield_image","throneRoom_image","devilEye_image","ctx","getContext","window","Nose","undefined","clearRect","RightArm","position","part","LeftArm","drawImage","drawHero","moveTo","lineTo","stroke"],"mappings":"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","sourcesContent":["const CANVAS_WIDTH =640;\r\nconst CANVAS_HEIGHT =300;\r\n\r\nvar _devilEyeList = {\r\n\t0:{img:[{x:0,y:0,w:97,h:97}]},\r\n\t1:{img:[{x:97,y:0,w:160,h:97}]},\r\n\t2:{img:[{x:194,y:0,w:160,h:97}]},\r\n\t3:{img:[{x:291,y:0,w:160,h:97}]},\r\n\t4:{img:[{x:388,y:0,w:160,h:97}]},\r\n\t5:{img:[{x:485,y:0,w:160,h:97}]}\r\n};\r\n\r\n\r\n\tconst drawCanvasBattle = () =>{\r\n\t\t\r\n\t\t/*\t\r\n\r\n\t\t\tvar loadCanvas = false;\r\n\t\t\r\n\t\t//base_image.onload();\r\n\t\r\n\t\r\n\t\t\r\n\t\t\r\n\t\tvar context = document.getElementById(\"myCanvas\");\r\n\t\tvar ctx = null;\r\n\r\n\t\tif (context!=null){\r\n\t\t\t\r\n\t\t\tctx = context.getContext(\"2d\");\r\n\t\t\tctx.moveTo(0, 0);\r\n\t\t\tctx.lineTo(CANVAS_WIDTH, CANVAS_HEIGHT);\r\n\t\t\tctx.stroke();\r\n\t\t\t\r\n\t\t\t\t\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t//if (loadCanvas){\r\n\t\t\t\t//console.log(\"draw =\"+base_image);\r\n\t\t\t\t\r\n\t\t\t//}\r\n\t\t}\r\n\t\t*/\r\n\t};\r\n\t\r\n\t\r\n\t\r\n\tsetInterval(() => {\r\n      draw();\r\n\t  drawCanvasHero ();\r\n    }, 100);\r\n\t\r\n\tvar context = document.getElementById(\"myCanvas\");\r\n\t\r\n\t\r\n\tdrawCanvasBattle ();\r\n\t////\r\n\t//var drawHero = false;\r\n\t\r\n\t\t\t\t//drawHero = true;\r\n\tvar loadCanvas=false;\r\n\tconst base_image = new Image();\r\n\tbase_image.src = '/image/women0.png';\r\n\tconsole.log(\"load draw =\" );\r\n\tbase_image.onload = function() \r\n\t{\r\n\t\t  console.log(\"load ok =\" );\r\n\t\t loadCanvas=true;\r\n\r\n\t}\r\n\tconst attack_image = new Image();\r\n\tattack_image.src = '/image/women1.png';\r\n\tattack_image.onload = function() \r\n\t{\r\n\t\t  console.log(\"load ok =\" );\r\n\r\n\t}\r\n\t\tconst shield_image = new Image();\r\n\tshield_image.src = '/image/women2.png';\r\n\tshield_image.onload = function() \r\n\t{\r\n\t\t  console.log(\"load ok =\" );\r\n\r\n\t}\r\n\t// ThroneRoom\r\n\tconst throneRoom_image = new Image();\r\n\tthroneRoom_image.src = '/image/ThroneRoom.png';\r\n\tthroneRoom_image.onload = function() \r\n\t{\r\n\t\t  console.log(\"load ok =\" );\r\n\r\n\t}\r\n\t//DevilEye.png\r\n\tconst devilEye_image = new Image();\r\n\tdevilEye_image.src = '/image/DevilEye.png';\r\n\tdevilEye_image.onload = function() \r\n\t{\r\n\t\t  console.log(\"load ok =\" );\r\n\r\n\t}\r\n\t\r\n\t\r\n\t/*\r\n\tbase_image.onerror= function() \r\n\t{\r\n\t\tconsole.log(\"Ошибка загрузки \" + this.src);\r\n\t}\r\n\t*/\r\n\t\r\n\tconst drawCanvasHero = () =>{\r\n\t\t/*\r\n\t\t\r\n\t\tvar context = document.getElementById(\"myCanvas\");\r\n\t\tif (context!=null){\r\n\t\t\t\r\n\t\t\tvar ctx0= context.getContext(\"2d\");\r\n\t\t\t\r\n\t\t\tif (drawHero == false )\r\n\t\t\t{\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t}*/\r\n\t\t\r\n\t\tif(loadCanvas){\r\n\t\t\tvar context = document.getElementById(\"myCanvas\");\r\n\t\t\tvar ctx = context.getContext(\"2d\");\r\n\t\t\t//ctx.drawImage(base_image, 100, 0);\r\n\t\t\tif (window.Nose!=undefined){\r\n\t\t\t\tctx.clearRect(0, 0, CANVAS_WIDTH, CANVAS_HEIGHT);\r\n\t\t\t\tconsole.log(\"R = \"+window.RightArm.position.y+\" = 111   =\" +window.RightArm.part+\"         L =  \"+window.LeftArm.position.y);\r\n\t\t\t\t//ctx.drawImage(base_image, window.Nose.position.x/CANVAS_WIDTH, 0);\r\n\t\t\t\tctx.drawImage(throneRoom_image,0,0);\r\n\t\t\t\t\r\n\t\t\t\t//devilEye_image\r\n\t\t\t\t//_devilEyeList\r\n\t\t\t\tctx.drawImage(devilEye_image,0,0);\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\tdrawHero (ctx);\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t//if (150<window.RightArm.position.y||150<window.LeftArm.position.y)\r\n\t\t\t\t//{\r\n\t\t\t\t\t\r\n\t\t\t\t//} else {\r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t//}\r\n\t\t\t\t//attack_image\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t}\r\n\tconst drawHero = (ctx) =>{\r\n\t\t\r\n\t\tif(150>window.RightArm.position.y) {\r\n\t\t\t//ctx.clearRect(0, 0, CANVAS_WIDTH, CANVAS_HEIGHT);\r\n\t\t\tctx.drawImage(attack_image,CANVAS_WIDTH - window.Nose.position.x, 100);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif(150>window.LeftArm.position.y) {\r\n\t\t\t//ctx.clearRect(0, 0, CANVAS_WIDTH, CANVAS_HEIGHT);\r\n\t\t\tctx.drawImage(shield_image,CANVAS_WIDTH - window.Nose.position.x, 100);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tctx.drawImage(base_image,CANVAS_WIDTH - window.Nose.position.x, 100);\r\n\t\treturn;\r\n\t}\r\n\r\n\t//////////\r\n\t\r\n\tvar draw = function(){\r\n\t\tvar context = document.getElementById(\"myCanvas\");\r\n\t\tvar ctx = context.getContext(\"2d\");\r\n\t\tctx.moveTo(0, 0);\r\n\t\t\tctx.lineTo(200, 100);\r\n\t\t\tctx.stroke();\r\n\t\t\r\n\t};"]},"metadata":{},"sourceType":"module"}