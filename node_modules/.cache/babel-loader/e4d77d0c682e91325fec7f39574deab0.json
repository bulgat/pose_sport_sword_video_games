{"ast":null,"code":"import { GameParam } from './GameParam';\nimport { StateParam } from './StateParam';\n\nclass HeroModel {\n  constructor(timeFrame) {\n    this.RightArm = false;\n    this.LeftArm = false;\n    this.Nose = 0;\n    this.X = 0;\n    this.Y = 0;\n    this.Health = 100;\n    this.TIME_FRAME = 400;\n    this.AnimDamage = false;\n    this.AnimDamageTime = 1000;\n\n    this.SetNose = function (Nose) {\n      this.Nose = Nose;\n      this.X = Nose;\n    };\n\n    this.SetRightArm = function (rightArm) {\n      this.RightArm = rightArm;\n    };\n\n    this.SetLeftArm = function (leftArm) {\n      this.LeftArm = leftArm;\n    };\n\n    this.MinusHealth = function (Minus, currentFrameTime) {\n      this.Health -= Minus;\n\n      if (this.AnimDamage == false) {\n        this.AnimDamage = true;\n        this.AnimDamageTime = currentFrameTime; //console.log(\" att = \" +this.AnimDamageTime  );\n      }\n    };\n\n    this.GetState = function (currentFrameTime) {\n      //console.log(\" name = \"+ this.State.Name+\"       x =  \"+this.State.GetState(currentFrameTime).ChangeStatus );\n      if (this.State.GetState(currentFrameTime).ChangeStatus == false) {\n        console.log(this.State + \" ZZZ \");\n        return this.State.GetState(currentFrameTime).StatePose;\n      }\n\n      if (this.AnimDamage) {\n        console.log(\"AnimDamage  00 \" + currentFrameTime + \"  D   = \" + this.AnimDamage);\n        this.State = new InjureState(currentFrameTime);\n        return this.State.GetState(currentFrameTime).StatePose;\n      }\n      /*\r\n      if (this.AnimDamage){\r\n      \t\r\n      \tif (this.AnimDamageTime+(this.TIME_FRAME*0)<=currentFrameTime&&this.AnimDamageTime+(this.TIME_FRAME*2)>=currentFrameTime){\r\n      \t\t//damage 4\r\n      \t\tthis.State = new StateHero(4);\r\n      \t\treturn this.State.GetState(currentFrameTime).StatePose;\r\n      \t} else {\r\n      \t\tthis.AnimDamage = false;\r\n      \t}\r\n      }\r\n      */\n\n\n      if (this.RightArm) {\n        //attack 1\n        this.State = new AttackState(currentFrameTime);\n        return this.State.GetState(currentFrameTime).StatePose;\n      }\n\n      if (this.LeftArm) {\n        //defence 3\n        this.State = new StateHero(3);\n        return this.State.GetState(currentFrameTime).StatePose;\n      } //this.State =0;\n\n\n      this.State = new StateHero(0);\n      return this.State.GetState(currentFrameTime).StatePose;\n    };\n\n    this.TIME_FRAME = timeFrame;\n\n    if (this.AnimDamage == false) {\n      this.AnimDamage = true;\n    }\n\n    this.State = new StateHero(0);\n  }\n\n}\n\nclass StateHero {\n  constructor(State) {\n    this.State = 0;\n    this.Name = \"StateHero\";\n\n    this.GetState = function () {\n      //return this.State;\n      return new StateParam(true, null, null, null, null, this.State);\n    };\n\n    this.State = State;\n  }\n\n}\n\nclass AttackState extends StateHero {\n  constructor(_currentFrameTime) {\n    super(1);\n\n    this.GetState = function (currentFrameTime) {\n      if (this.startCurrentFrameTime + this.timeFrame * 0 < currentFrameTime && this.startCurrentFrameTime + this.timeFrame * 2 > currentFrameTime) {\n        //return 2;\n        return new StateParam(false, null, null, null, null, 1);\n      }\n\n      if (this.startCurrentFrameTime + this.timeFrame * 2 < currentFrameTime && this.startCurrentFrameTime + this.timeFrame * 4 > currentFrameTime) {\n        console.log(\"0001  D  ump = \" + this.timeFrame); //return 2;\n\n        return new StateParam(false, null, null, null, null, 2);\n      } //return 1;\n\n\n      return new StateParam(true, null, null, null, null, 1);\n    };\n\n    this.startCurrentFrameTime = _currentFrameTime;\n    this.timeFrame = new GameParam().TIME_FRAME;\n    this.Name = \"AttackState\";\n  }\n\n}\n\nclass InjureState extends StateHero {\n  constructor(_currentFrameTime2) {\n    super(1);\n\n    this.GetState = function (currentFrameTime) {\n      if (this.startCurrentFrameTime + this.timeFrame * 0 < currentFrameTime && this.startCurrentFrameTime + this.timeFrame * 2 > currentFrameTime) {\n        console.log(\"0000  D  ump = \" + this.timeFrame);\n        return new StateParam(false, null, null, null, null, 4);\n      }\n\n      return new StateParam(true, null, null, null, null, 4);\n    };\n\n    this.startCurrentFrameTime = _currentFrameTime2;\n    this.timeFrame = new GameParam().TIME_FRAME;\n    this.Name = \"InjureState\";\n  }\n\n}\n\nexport { HeroModel };","map":{"version":3,"sources":["C:/Users/bulga/posenetkol/src/HeroModel.js"],"names":["GameParam","StateParam","HeroModel","constructor","timeFrame","RightArm","LeftArm","Nose","X","Y","Health","TIME_FRAME","AnimDamage","AnimDamageTime","SetNose","SetRightArm","rightArm","SetLeftArm","leftArm","MinusHealth","Minus","currentFrameTime","GetState","State","ChangeStatus","console","log","StatePose","InjureState","AttackState","StateHero","Name","startCurrentFrameTime"],"mappings":"AAAA,SAASA,SAAT,QAA0B,aAA1B;AACA,SAASC,UAAT,QAA2B,cAA3B;;AAEA,MAAMC,SAAN,CAAgB;AAWfC,EAAAA,WAAW,CAACC,SAAD,EAAW;AAAA,SAVtBC,QAUsB,GAVb,KAUa;AAAA,SATtBC,OASsB,GATd,KASc;AAAA,SARtBC,IAQsB,GARjB,CAQiB;AAAA,SAPtBC,CAOsB,GAPpB,CAOoB;AAAA,SANtBC,CAMsB,GANpB,CAMoB;AAAA,SALtBC,MAKsB,GALb,GAKa;AAAA,SAJtBC,UAIsB,GAJT,GAIS;AAAA,SAHtBC,UAGsB,GAHT,KAGS;AAAA,SAFtBC,cAEsB,GAFN,IAEM;;AAAA,SAOtBC,OAPsB,GAOZ,UAASP,IAAT,EAAc;AACvB,WAAKA,IAAL,GAAUA,IAAV;AACA,WAAKC,CAAL,GAAQD,IAAR;AACA,KAVqB;;AAAA,SAWtBQ,WAXsB,GAWR,UAASC,QAAT,EAAkB;AAC/B,WAAKX,QAAL,GAAgBW,QAAhB;AACA,KAbqB;;AAAA,SActBC,UAdsB,GAcV,UAASC,OAAT,EAAiB;AAC5B,WAAKZ,OAAL,GAAeY,OAAf;AACA,KAhBqB;;AAAA,SAiBtBC,WAjBsB,GAiBT,UAASC,KAAT,EAAgBC,gBAAhB,EAAiC;AAC7C,WAAKX,MAAL,IAAcU,KAAd;;AACA,UAAG,KAAKR,UAAL,IAAiB,KAApB,EAA0B;AACzB,aAAKA,UAAL,GAAkB,IAAlB;AACA,aAAKC,cAAL,GAAsBQ,gBAAtB,CAFyB,CAGzB;AACA;AACD,KAxBqB;;AAAA,SAyBtBC,QAzBsB,GAyBX,UAASD,gBAAT,EACX;AACC;AACA,UAAG,KAAKE,KAAL,CAAWD,QAAX,CAAoBD,gBAApB,EAAsCG,YAAtC,IAAoD,KAAvD,EAA6D;AAC5DC,QAAAA,OAAO,CAACC,GAAR,CAAY,KAAKH,KAAL,GAAY,OAAxB;AACA,eAAO,KAAKA,KAAL,CAAWD,QAAX,CAAoBD,gBAApB,EAAsCM,SAA7C;AACA;;AACD,UAAI,KAAKf,UAAT,EAAoB;AACnBa,QAAAA,OAAO,CAACC,GAAR,CAAa,oBAAkBL,gBAAlB,GAAmC,UAAnC,GAA8C,KAAKT,UAAhE;AACA,aAAKW,KAAL,GAAa,IAAIK,WAAJ,CAAgBP,gBAAhB,CAAb;AACA,eAAO,KAAKE,KAAL,CAAWD,QAAX,CAAoBD,gBAApB,EAAsCM,SAA7C;AACA;AACD;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACE,UAAG,KAAKtB,QAAR,EAAkB;AACjB;AACA,aAAKkB,KAAL,GAAa,IAAIM,WAAJ,CAAgBR,gBAAhB,CAAb;AAEA,eAAO,KAAKE,KAAL,CAAWD,QAAX,CAAoBD,gBAApB,EAAsCM,SAA7C;AACA;;AACD,UAAG,KAAKrB,OAAR,EAAiB;AAChB;AACA,aAAKiB,KAAL,GAAa,IAAIO,SAAJ,CAAc,CAAd,CAAb;AACA,eAAO,KAAKP,KAAL,CAAWD,QAAX,CAAoBD,gBAApB,EAAsCM,SAA7C;AACA,OAjCF,CAkCC;;;AACA,WAAKJ,KAAL,GAAa,IAAIO,SAAJ,CAAc,CAAd,CAAb;AAEA,aAAO,KAAKP,KAAL,CAAWD,QAAX,CAAoBD,gBAApB,EAAsCM,SAA7C;AACA,KAhEqB;;AACrB,SAAKhB,UAAL,GAAkBP,SAAlB;;AACA,QAAI,KAAKQ,UAAL,IAAiB,KAArB,EAA4B;AAC3B,WAAKA,UAAL,GAAkB,IAAlB;AACA;;AACD,SAAKW,KAAL,GAAa,IAAIO,SAAJ,CAAc,CAAd,CAAb;AACA;;AAjBc;;AA6EhB,MAAMA,SAAN,CAAe;AAKd3B,EAAAA,WAAW,CAACoB,KAAD,EAAQ;AAAA,SAFnBA,KAEmB,GAFb,CAEa;AAAA,SADnBQ,IACmB,GADb,WACa;;AAAA,SAGnBT,QAHmB,GAGR,YAAU;AACpB;AACA,aAAO,IAAIrB,UAAJ,CAAe,IAAf,EAAoB,IAApB,EAAyB,IAAzB,EAA8B,IAA9B,EAAmC,IAAnC,EAAwC,KAAKsB,KAA7C,CAAP;AACA,KANkB;;AAClB,SAAKA,KAAL,GAAaA,KAAb;AACA;;AAPa;;AAaf,MAAMM,WAAN,SAA0BC,SAA1B,CAAoC;AAGnC3B,EAAAA,WAAW,CAACkB,iBAAD,EAAmB;AAC7B,UAAM,CAAN;;AAD6B,SAM9BC,QAN8B,GAMnB,UAASD,gBAAT,EAA0B;AAEpC,UAAI,KAAKW,qBAAL,GAA4B,KAAK5B,SAAL,GAAe,CAA3C,GAA8CiB,gBAA9C,IAAgE,KAAKW,qBAAL,GAA4B,KAAK5B,SAAL,GAAe,CAA3C,GAA8CiB,gBAAlH,EAAmI;AAEjI;AACA,eAAO,IAAIpB,UAAJ,CAAe,KAAf,EAAqB,IAArB,EAA0B,IAA1B,EAA+B,IAA/B,EAAoC,IAApC,EAAyC,CAAzC,CAAP;AACD;;AACD,UAAI,KAAK+B,qBAAL,GAA4B,KAAK5B,SAAL,GAAe,CAA3C,GAA8CiB,gBAA9C,IAAgE,KAAKW,qBAAL,GAA4B,KAAK5B,SAAL,GAAe,CAA3C,GAA8CiB,gBAAlH,EAAmI;AACjII,QAAAA,OAAO,CAACC,GAAR,CAAa,oBAAkB,KAAKtB,SAApC,EADiI,CAEjI;;AACA,eAAO,IAAIH,UAAJ,CAAe,KAAf,EAAqB,IAArB,EAA0B,IAA1B,EAA+B,IAA/B,EAAoC,IAApC,EAAyC,CAAzC,CAAP;AACD,OAXmC,CAYpC;;;AACA,aAAO,IAAIA,UAAJ,CAAe,IAAf,EAAoB,IAApB,EAAyB,IAAzB,EAA8B,IAA9B,EAAmC,IAAnC,EAAwC,CAAxC,CAAP;AACA,KApB6B;;AAE7B,SAAK+B,qBAAL,GAA6BX,iBAA7B;AACA,SAAKjB,SAAL,GAAiB,IAAIJ,SAAJ,GAAgBW,UAAjC;AACA,SAAKoB,IAAL,GAAY,aAAZ;AACA;;AARkC;;AAyBpC,MAAMH,WAAN,SAA0BE,SAA1B,CAAoC;AACnC3B,EAAAA,WAAW,CAACkB,kBAAD,EAAmB;AAC7B,UAAM,CAAN;;AAD6B,SAM9BC,QAN8B,GAMnB,UAASD,gBAAT,EAA0B;AACpC,UAAI,KAAKW,qBAAL,GAA4B,KAAK5B,SAAL,GAAe,CAA3C,GAA8CiB,gBAA9C,IAAgE,KAAKW,qBAAL,GAA4B,KAAK5B,SAAL,GAAe,CAA3C,GAA8CiB,gBAAlH,EAAmI;AACjII,QAAAA,OAAO,CAACC,GAAR,CAAa,oBAAkB,KAAKtB,SAApC;AAEA,eAAO,IAAIH,UAAJ,CAAe,KAAf,EAAqB,IAArB,EAA0B,IAA1B,EAA+B,IAA/B,EAAoC,IAApC,EAAyC,CAAzC,CAAP;AACD;;AACD,aAAO,IAAIA,UAAJ,CAAe,IAAf,EAAoB,IAApB,EAAyB,IAAzB,EAA8B,IAA9B,EAAmC,IAAnC,EAAwC,CAAxC,CAAP;AACA,KAb6B;;AAE7B,SAAK+B,qBAAL,GAA6BX,kBAA7B;AACA,SAAKjB,SAAL,GAAiB,IAAIJ,SAAJ,GAAgBW,UAAjC;AACA,SAAKoB,IAAL,GAAY,aAAZ;AACA;;AANkC;;AAiBpC,SAAS7B,SAAT","sourcesContent":["import { GameParam } from './GameParam';\r\nimport { StateParam } from './StateParam';\r\n\r\nclass HeroModel {\r\n\tRightArm=false;\r\n\tLeftArm=false;\r\n\tNose=0;\r\n\tX=0;\r\n\tY=0;\r\n\tHealth = 100;\r\n\tTIME_FRAME = 400;\r\n\tAnimDamage = false;\r\n\tAnimDamageTime =1000;\r\n\tState;\r\n\tconstructor(timeFrame){\r\n\t\tthis.TIME_FRAME = timeFrame;\t\t\r\n\t\tif (this.AnimDamage==false ){\r\n\t\t\tthis.AnimDamage = true;\r\n\t\t}\r\n\t\tthis.State = new StateHero(0);\r\n\t};\r\n\tSetNose = function(Nose){\r\n\t\tthis.Nose=Nose;\r\n\t\tthis.X =Nose;\r\n\t}\r\n\tSetRightArm = function(rightArm){\r\n\t\tthis.RightArm = rightArm;\r\n\t};\r\n\tSetLeftArm= function(leftArm){\r\n\t\tthis.LeftArm = leftArm;\r\n\t};\r\n\tMinusHealth= function(Minus, currentFrameTime){\r\n\t\tthis.Health -=Minus;\r\n\t\tif(this.AnimDamage==false){\r\n\t\t\tthis.AnimDamage = true;\r\n\t\t\tthis.AnimDamageTime = currentFrameTime;\r\n\t\t\t//console.log(\" att = \" +this.AnimDamageTime  );\r\n\t\t}\r\n\t};\r\n\tGetState = function(currentFrameTime) \r\n\t{\r\n\t\t//console.log(\" name = \"+ this.State.Name+\"       x =  \"+this.State.GetState(currentFrameTime).ChangeStatus );\r\n\t\tif(this.State.GetState(currentFrameTime).ChangeStatus==false){\r\n\t\t\tconsole.log(this.State+ \" ZZZ \"   );\r\n\t\t\treturn this.State.GetState(currentFrameTime).StatePose;\r\n\t\t}\r\n\t\tif (this.AnimDamage){\r\n\t\t\tconsole.log( \"AnimDamage  00 \"+currentFrameTime+\"  D   = \"+this.AnimDamage );\r\n\t\t\tthis.State = new InjureState(currentFrameTime);\r\n\t\t\treturn this.State.GetState(currentFrameTime).StatePose;\r\n\t\t}\r\n\t\t/*\r\n\t\tif (this.AnimDamage){\r\n\t\t\t\r\n\t\t\tif (this.AnimDamageTime+(this.TIME_FRAME*0)<=currentFrameTime&&this.AnimDamageTime+(this.TIME_FRAME*2)>=currentFrameTime){\r\n\t\t\t\t//damage 4\r\n\t\t\t\tthis.State = new StateHero(4);\r\n\t\t\t\treturn this.State.GetState(currentFrameTime).StatePose;\r\n\t\t\t} else {\r\n\t\t\t\tthis.AnimDamage = false;\r\n\t\t\t}\r\n\t\t}\r\n\t\t*/\r\n\t\tif(this.RightArm) {\r\n\t\t\t//attack 1\r\n\t\t\tthis.State = new AttackState(currentFrameTime);\r\n\t\t\t\r\n\t\t\treturn this.State.GetState(currentFrameTime).StatePose;\r\n\t\t}\r\n\t\tif(this.LeftArm) {\r\n\t\t\t//defence 3\r\n\t\t\tthis.State = new StateHero(3);\r\n\t\t\treturn this.State.GetState(currentFrameTime).StatePose;\r\n\t\t}\r\n\t\t//this.State =0;\r\n\t\tthis.State = new StateHero(0);\r\n\t\t\r\n\t\treturn this.State.GetState(currentFrameTime).StatePose;\r\n\t}\r\n}\r\nclass StateHero{\r\n\ttimeFrame;\r\n\tstartCurrentFrameTime;\r\n\tState=0;\r\n\tName =\"StateHero\";\r\n\tconstructor(State) {\r\n\t\tthis.State = State;\r\n\t};\r\n\tGetState = function(){\r\n\t\t//return this.State;\r\n\t\treturn new StateParam(true,null,null,null,null,this.State);\r\n\t}\r\n}\r\nclass AttackState extends StateHero {\r\n\t\r\n\t\r\n\tconstructor(currentFrameTime) {\r\n\t\tsuper(1);\r\n\t\tthis.startCurrentFrameTime = currentFrameTime;\r\n\t\tthis.timeFrame = new GameParam().TIME_FRAME;\r\n\t\tthis.Name = \"AttackState\";\r\n\t}\r\n\tGetState = function(currentFrameTime){\r\n\t\t\r\n\t\tif (this.startCurrentFrameTime+(this.timeFrame*0)<currentFrameTime&&this.startCurrentFrameTime+(this.timeFrame*2)>currentFrameTime){\r\n\t\t\t\t\r\n\t\t\t\t//return 2;\r\n\t\t\t\treturn new StateParam(false,null,null,null,null,1);\r\n\t\t}\r\n\t\tif (this.startCurrentFrameTime+(this.timeFrame*2)<currentFrameTime&&this.startCurrentFrameTime+(this.timeFrame*4)>currentFrameTime){\r\n\t\t\t\tconsole.log( \"0001  D  ump = \"+this.timeFrame );\r\n\t\t\t\t//return 2;\r\n\t\t\t\treturn new StateParam(false,null,null,null,null,2);\r\n\t\t}\r\n\t\t//return 1;\r\n\t\treturn new StateParam(true,null,null,null,null,1);\r\n\t}\r\n}\r\nclass InjureState extends StateHero {\r\n\tconstructor(currentFrameTime) {\r\n\t\tsuper(1);\r\n\t\tthis.startCurrentFrameTime = currentFrameTime;\r\n\t\tthis.timeFrame = new GameParam().TIME_FRAME;\r\n\t\tthis.Name = \"InjureState\";\r\n\t}\r\n\tGetState = function(currentFrameTime){\r\n\t\tif (this.startCurrentFrameTime+(this.timeFrame*0)<currentFrameTime&&this.startCurrentFrameTime+(this.timeFrame*2)>currentFrameTime){\r\n\t\t\t\tconsole.log( \"0000  D  ump = \"+this.timeFrame );\r\n\r\n\t\t\t\treturn new StateParam(false,null,null,null,null,4);\r\n\t\t}\r\n\t\treturn new StateParam(true,null,null,null,null,4);\r\n\t}\r\n}\r\n\r\nexport { HeroModel }"]},"metadata":{},"sourceType":"module"}