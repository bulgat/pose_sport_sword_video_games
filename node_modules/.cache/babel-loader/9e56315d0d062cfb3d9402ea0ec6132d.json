{"ast":null,"code":"import { StateFiendBasic } from '../StateFiendBasic';\nimport { TimeFrameAnimModel } from './TimeFrameAnimModel';\nimport { ItemDrawSample } from './ItemDrawSample';\nimport { StateParam } from '../StateParam';\n\nclass VillagerState extends StateFiendBasic {\n  constructor(_X, _Y, State, timeFrame, AttackFiendTime, ZONA_ATTACK, Name) {\n    super();\n    this.TextCount = 0;\n\n    this.Update = function (currentFrameTime, X, Y, HeroModel) {\n      this.ListAdditionallyStateDraw[0].SetText(this.TextQuest.substr(0, Math.floor(this.TextCount)));\n      this.TextCount += 0.5;\n\n      if (new TimeFrameAnimModel().TimeFrameCheck(currentFrameTime, this.AttackFiendTime, this.timeFrame, 0, 10)) {\n        this.SetState(50);\n        return new StateParam(false, X, Y);\n      }\n\n      if (new TimeFrameAnimModel().TimeFrameCheck(currentFrameTime, this.AttackFiendTime, this.timeFrame, 10, 20)) {\n        this.SetState(51);\n        return new StateParam(false, X, Y);\n      }\n\n      if (new TimeFrameAnimModel().TimeFrameCheck(currentFrameTime, this.AttackFiendTime, this.timeFrame, 20, 30)) {\n        this.SetState(52);\n        return new StateParam(false, X, Y);\n      } //if (new TimeFrameAnimModel().TimeFrameCheck(currentFrameTime,this.AttackFiendTime,this.timeFrame,60,61)){\n      //\tthis.TextCount =10.0;\n      //}\n\n\n      if (new TimeFrameAnimModel().TimeFrameCheck(currentFrameTime, this.AttackFiendTime, this.timeFrame, 30, 40)) {\n        this.SetState(53);\n        this.TextQuest = \"Я навек твоя!\";\n        console.log(this.TextQuest + \"  apo et = nderImage =  \" + this.TextCount);\n        return new StateParam(false, X, Y);\n      }\n\n      if (new TimeFrameAnimModel().TimeFrameCheck(currentFrameTime, this.AttackFiendTime, this.timeFrame, 40, 50)) {\n        this.SetState(54);\n        this.TextQuest = \"Любовь!\"; //this.TextCount =0;\n\n        return new StateParam(false, X, Y);\n      }\n\n      if (new TimeFrameAnimModel().TimeFrameCheck(currentFrameTime, this.AttackFiendTime, this.timeFrame, 50, 60)) {\n        this.SetState(55);\n        this.TextQuest = \"Это святое!\"; //this.TextCount =0;\n\n        return new StateParam(false, X, Y);\n      } //dead\n\n\n      if (new TimeFrameAnimModel().TimeFrameCheck(currentFrameTime, this.AttackFiendTime, this.timeFrame, 60, 70)) {\n        this.SetState(56);\n        this.TextQuest = \"Пока!\";\n        return this.DeadStateParam(X, Y);\n      }\n\n      if (new TimeFrameAnimModel().TimeFrameCheck(currentFrameTime, this.AttackFiendTime, this.timeFrame, 70, 90)) {\n        this.SetState(57);\n        this.TextQuest = \"Пока!\";\n        return this.DeadStateParam(X, Y);\n      }\n\n      this.SetState(57); //return this.DeadStateParam(X,Y);\n\n      return new StateParam(false, X, Y); //default\n    };\n\n    this.X = _X;\n    this.Y = _Y + 100;\n    this.Name = Name;\n    this.State = State;\n    this.AttackFiendTime = AttackFiendTime;\n    this.timeFrame = timeFrame;\n    this.ListAdditionallyStateDraw = [//new ItemDrawSample(1,-55,115,30,true,\"COST: 10\",false,10,0)\n    new ItemDrawSample(1, -200, 0, 31, true, \"Задание\", false, 10, 0, \"Black\")];\n    this.TextQuest = \"О! Мой герой! Ты спас меня!\";\n  }\n\n}\n\nexport { VillagerState };","map":{"version":3,"sources":["C:/Users/bulga/posenetkol/src/model/VillagerState.js"],"names":["StateFiendBasic","TimeFrameAnimModel","ItemDrawSample","StateParam","VillagerState","constructor","X","Y","State","timeFrame","AttackFiendTime","ZONA_ATTACK","Name","TextCount","Update","currentFrameTime","HeroModel","ListAdditionallyStateDraw","SetText","TextQuest","substr","Math","floor","TimeFrameCheck","SetState","console","log","DeadStateParam"],"mappings":"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","sourcesContent":["import { StateFiendBasic } from '../StateFiendBasic';\r\nimport { TimeFrameAnimModel } from './TimeFrameAnimModel';\r\nimport { ItemDrawSample } from './ItemDrawSample';\r\nimport { StateParam } from '../StateParam';\r\n\r\nclass VillagerState extends StateFiendBasic {\r\n\tTextQuest;\r\n\tTextCount=0;\r\n\tconstructor(X,Y,State,timeFrame,AttackFiendTime,ZONA_ATTACK,Name){\r\n\t\tsuper();\r\n\t\tthis.X = X;\r\n\t\tthis.Y = Y+100;\r\n\t\tthis.Name =Name;\r\n\t\tthis.State = State;\r\n\t\tthis.AttackFiendTime = AttackFiendTime;\r\n\t\tthis.timeFrame = timeFrame;\r\n\t\t\r\n\t\tthis.ListAdditionallyStateDraw =\r\n\t\t[\r\n\t\t\t//new ItemDrawSample(1,-55,115,30,true,\"COST: 10\",false,10,0)\r\n\t\t\tnew ItemDrawSample(1,-200,0,31,true,\"Задание\",false,10,0,\"Black\")\r\n\t\t];\r\n\t\tthis.TextQuest =\"О! Мой герой! Ты спас меня!\"\r\n\t}\r\n\tUpdate = function(currentFrameTime,X,Y,HeroModel) {\r\n\t\t\r\n\t\tthis.ListAdditionallyStateDraw[0].SetText(this.TextQuest.substr(0,Math.floor(this.TextCount)));\r\n\t\tthis.TextCount+=0.5;\r\n\t\t\r\n\r\n\t\tif (new TimeFrameAnimModel().TimeFrameCheck(currentFrameTime,this.AttackFiendTime,this.timeFrame,0,10)){\r\n\t\t\tthis.SetState(50);\r\n\t\t\t\r\n\t\t\treturn new StateParam(false,X,Y);\r\n\t\t}\r\n\t\tif (new TimeFrameAnimModel().TimeFrameCheck(currentFrameTime,this.AttackFiendTime,this.timeFrame,10,20)){\r\n\t\t\tthis.SetState(51);\r\n\t\t\t\r\n\t\t\treturn new StateParam(false,X,Y);\r\n\t\t}\t\r\n\t\tif (new TimeFrameAnimModel().TimeFrameCheck(currentFrameTime,this.AttackFiendTime,this.timeFrame,20,30)){\r\n\t\t\tthis.SetState(52);\r\n\t\t\treturn new StateParam(false,X,Y);\r\n\t\t}\r\n\t\t//if (new TimeFrameAnimModel().TimeFrameCheck(currentFrameTime,this.AttackFiendTime,this.timeFrame,60,61)){\r\n\t\t//\tthis.TextCount =10.0;\r\n\t\t//}\r\n\t\tif (new TimeFrameAnimModel().TimeFrameCheck(currentFrameTime,this.AttackFiendTime,this.timeFrame,30,40)){\r\n\t\t\tthis.SetState(53);\r\n\t\t\tthis.TextQuest =  \"Я навек твоя!\";\r\n\t\t\t\r\n\t\t\tconsole.log( this.TextQuest+\"  apo et = nderImage =  \" +this.TextCount);\r\n\t\t\t\r\n\t\t\treturn new StateParam(false,X,Y);\r\n\t\t}\r\n\t\tif (new TimeFrameAnimModel().TimeFrameCheck(currentFrameTime,this.AttackFiendTime,this.timeFrame,40,50)){\r\n\t\t\tthis.SetState(54);\r\n\t\t\tthis.TextQuest =  \"Любовь!\";\r\n\t\t\t//this.TextCount =0;\r\n\t\t\treturn new StateParam(false,X,Y);\r\n\t\t}\t\r\n\t\tif (new TimeFrameAnimModel().TimeFrameCheck(currentFrameTime,this.AttackFiendTime,this.timeFrame,50,60)){\r\n\t\t\tthis.SetState(55);\r\n\t\t\tthis.TextQuest =  \"Это святое!\";\r\n\t\t\t//this.TextCount =0;\r\n\t\t\treturn new StateParam(false,X,Y);\r\n\t\t}\r\n\t\t//dead\r\n\t\tif (new TimeFrameAnimModel().TimeFrameCheck(currentFrameTime,this.AttackFiendTime,this.timeFrame,60,70)){\r\n\t\t\tthis.SetState(56);\r\n\t\t\tthis.TextQuest =  \"Пока!\";\r\n\t\t\treturn this.DeadStateParam(X,Y);\r\n\t\t}\r\n\t\tif (new TimeFrameAnimModel().TimeFrameCheck(currentFrameTime,this.AttackFiendTime,this.timeFrame,70,90)){\r\n\t\t\tthis.SetState(57);\r\n\t\t\tthis.TextQuest =  \"Пока!\";\r\n\t\t\treturn this.DeadStateParam(X,Y);\r\n\t\t}\r\n\t\tthis.SetState(57);\r\n\t\t//return this.DeadStateParam(X,Y);\r\n\t\treturn new StateParam(false,X,Y);\r\n\t\t\r\n\t\t//default\r\n\t\t\r\n\t}\r\n}\r\nexport { VillagerState }"]},"metadata":{},"sourceType":"module"}